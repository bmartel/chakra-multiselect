{"version":3,"sources":["../../node_modules/@chakra-ui/theme-tools/dist/esm/component.js","../../src/theme.ts","../../node_modules/@chakra-ui/react-utils/dist/esm/refs.js","../../node_modules/@chakra-ui/utils/dist/esm/assertion.js","../../node_modules/@chakra-ui/react-utils/dist/esm/context.js","../../node_modules/compute-scroll-into-view/dist/index.module.js","../../src/use-select.ts","../../src/MultiSelect.tsx","App.tsx","index.tsx"],"names":["mode","light","dark","props","colorMode","baseStyleList","bg","boxShadow","color","w","py","zIndex","borderRadius","borderWidth","maxH","overflowY","overscrollBehaviorY","baseStyleSelectedList","d","flex","flexWrap","alignItems","baseStyleLabel","fontSize","marginEnd","mb","fontWeight","transition","opacity","_disabled","baseStyleItem","cursor","_focus","_active","_expanded","_selected","baseStyleSelectedItem","variant","colorscheme","baseStyleButton","_hover","baseStyleControl","h","minW","baseStyleActionGroup","baseStyleGroupTitle","baseStyleDivider","border","borderColor","my","defaultProps","size","parts","sizes","sm","control","minH","px","spacing","input","m","actionGroup","item","textList","selectedItem","selectedList","groupTitle","mx","md","p","lg","baseStyle","list","button","bgColor","appearance","outline","divider","label","assignRef","ref","value","isFunction","current","error","Error","mergeRefs","_len","arguments","length","refs","Array","_key","node","forEach","createContext","options","strict","errorMessage","name","Context","undefined","displayName","Provider","useContext","context","captureStackTrace","t","nodeType","e","n","clientHeight","scrollHeight","clientWidth","scrollWidth","r","getComputedStyle","overflowX","ownerDocument","defaultView","frameElement","i","o","l","ChangeActions","SelectActions","defaultMultiValue","defaultOptions","initialState","searchValue","resolvedSearchValue","isOpen","highlightedIndex","scrollIntoView","window","scrollMode","block","u","inline","boundary","a","skipOverflowHiddenElements","c","TypeError","f","document","scrollingElement","documentElement","s","parentElement","push","body","visualViewport","width","innerWidth","g","height","innerHeight","scrollX","pageXOffset","v","scrollY","pageYOffset","W","getBoundingClientRect","b","H","y","top","E","right","M","bottom","V","left","x","I","C","T","k","B","D","O","R","X","Y","L","S","j","parseInt","borderLeftWidth","q","borderTopWidth","z","borderRightWidth","A","borderBottomWidth","F","G","J","offsetWidth","K","offsetHeight","Math","max","N","scrollLeft","P","scrollTop","min","el","computeScrollIntoView","actions","defaultStateReducer","_","newState","defaultScrollToIndex","enabledRef","inputRef","optionsRef","labelFromValue","idFromOption","option","prefix","defaultGetOption","defaultGetDebounce","defaultFilterFn","getOption","updateReducerState","state","newValue","SelectionVisibilityMode","useSelect","create","single","selectionVisibleIn","getDebounce","stateReducer","filterFn","scrollToIndex","shiftAmount","placement","reducerRef","useRef","useState","useCallback","_setState","old","updater","useHoistedState","multi","optionsItemsRef","valueRef","controlRef","onBlurRef","onChangeRef","filterFnRef","scrollToIndexRef","highlightedIndexRef","highlightedValueRef","enableScrollRef","popper","usePopper","originalOptions","useMemo","selected","duplicates","selectedOption","val","created","userKeys","setOpen","newIsOpen","setState","Close","Open","setResolvedSearch","fn","time","fnRef","useEffect","clearTimeout","Promise","setTimeout","resolve","err","reject","useDebounce","setSearch","highlightIndex","_options","selectIndex","index","_value","action","clearAll","removeValue","isIndex","_multi","_next","handleSearchValueChange","handleSearchClick","ArrowUp","defaultShift","meta","amount","defaultMeta","ArrowDown","Enter","Backspace","lastValue","getKeyProps","PageUp","PageDown","Home","End","Escape","Tab","onKeyDown","rest","shiftKey","metaKey","handler","keyCode","key","shift","getInputProps","refKey","onBlur","onChange","onFocus","onClick","getOptionProps","onMouseEnter","localDropdownRef","localControlRef","elDropdownRef","dropdownRef","elControlRef","handle","isTouch","elControl","elDropdown","enable","useClickOutsideRef","clearable","visibleOptions","ChakraSvg","chakra","Select","children","styles","useMultiStyleConfig","ctx","omitThemingProps","selectInputContext","selectedContext","selectedListContext","selectActionContext","_jsx","StylesProvider","SelectProvider","SelectInputProvider","SelectedListProvider","SelectedProvider","SelectActionProvider","div","pos","SelectLabel","memo","labelProps","useStyles","__css","useSelectLabel","SelectOptionLabel","_jsxs","HStack","justifyContent","Box","Tag","flexShrink","TagLabel","SelectOptionItem","useSelectContext","highlighted","highlightedRef","useSelectItem","li","role","itemProps","EmptySelectResults","SelectList","useSelectList","listRef","dropdownVisible","optionItemProps","optionItem","ul","listStyle","position","display","listProps","itemKey","restItemProps","SelectToggleIcon","viewBox","stroke","fill","isActive","strokeLinecap","strokeLinejoin","strokeWidth","SelectClearIcon","SelectInput","inputProps","useSelectInputContext","useSelectInput","SelectedItem","useSelectedContext","useSelectedItem","TagCloseButton","SelectToggleButton","useSelectActionContext","useSelectButton","ariaLabel","Icon","IconButton","tabIndex","icon","transitionDuration","transitionProperty","transform","buttonProps","SelectClearButton","useClearButton","SelectedList","useSelectedListContext","selectedItems","useSelectedList","selectedListProps","SelectActionGroup","clearOnClick","useSelectActionGroup","toggleActionProps","SelectControl","forwardRef","useSelectControl","Input","as","MultiSelect","theme","extendTheme","components","MultiSelectTheme","ColorModeToggleBar","toggleColorMode","useColorMode","nextMode","useColorModeValue","justify","marginLeft","map","toLowerCase","StatefulMultiSelect","_onChange","__options","change","setValue","setOptions","opt","_o","nextValue","next","useMultiSelect","App","initialColorMode","List","Both","ReactDOM","render","getElementById"],"mappings":"8aAEO,SAASA,EAAKC,EAAOC,GAC1B,OAAO,SAAAC,GAAK,MAAwB,SAApBA,EAAMC,UAAuBF,EAAOD,GCctD,SAASI,EAAcF,GACrB,MAAO,CACLG,GAAIN,EAAKA,OAALA,YADC,GAELO,UAAWP,EAAKA,KAALA,WAFN,GAGLQ,MAHK,UAILC,EAJK,OAKLC,GALK,IAMLC,OANK,EAOLC,aAPK,KAQLC,YARK,MASLC,KATK,KAULC,UAVK,OAWLC,oBAAqB,WAIzB,IAAMC,EAAwB,CAC5BC,EAD4B,OAE5BC,KAF4B,EAG5BC,SAH4B,OAI5BC,WAAY,UAGRC,EAAiB,CACrBC,SADqB,KAErBC,UAFqB,EAGrBC,GAHqB,EAIrBC,WAJqB,SAKrBC,WALqB,WAMrBC,QANqB,EAOrBC,UAAW,CACTD,QAAS,KAIb,SAASE,EAAc3B,GACrB,MAAO,CACL4B,OADK,UAELJ,WAFK,2BAGLK,OAAQ,CACN1B,GAAIN,EAAKA,UAALA,kBADE,GAENO,UAAW,WAEb0B,QAAS,CACP3B,GAAIN,EAAKA,UAALA,sBAENkC,UAAW,CACT5B,GAAIN,EAAKA,UAALA,sBAENmC,UAAW,CACT7B,GAAIN,EAAKA,WAALA,sBAEN6B,UAAW,CACTD,QADS,GAETG,OAAQ,gBAKd,SAASK,EAAsBjC,GAC7B,MAAO,CACLS,aADK,OAELyB,QAFK,QAGLC,YAAanC,EAAMmC,aAIvB,SAASC,EAAgBpC,GACvB,MAAO,CACLkC,QADK,QAELG,OAAQ,CACNlC,GAAIN,EAAKA,WAALA,sBAENgC,OAAQ,CACN1B,GAAIN,EAAKA,WAALA,kBADE,GAENO,UAAW,WAEb0B,QAAS,CACP3B,GAAIN,EAAKA,WAALA,sBAENsC,YAAanC,EAAMmC,aAIvB,IAAMG,EAAmB,CACvBC,EADuB,OAEvBC,KAAM,IAWFC,EAAuB,CAC3B1B,EAD2B,OAE3BG,WAAY,UAGRwB,EAAsB,CAC1BnB,WAAY,YAGRoB,EAAmB,CACvB5B,EADuB,SAEvBwB,EAFuB,OAGvBK,OAHuB,EAIvBC,YAJuB,UAKvBC,GALuB,EAMvBrB,QAAS,IAmHX,EAAe,CACbsB,aAAc,CACZC,KAAM,MAERC,MAtPY,CAAC,OAAD,gHAAd,SAuPEC,MAvGmB,CACnBC,GAAI,CACFC,QAAS,CACPC,KADO,EAEPC,GAFO,EAGPC,QAAS,GAEXC,MAAO,CACLC,EAAG,MAELC,YAAa,CACXH,QAAS,KAEXI,KAAM,CACJpD,GADI,EAEJ+C,GAAI,GAENM,SAAU,CACRrD,GADQ,EAER+C,GAAI,GAENO,aAAc,CACZJ,EAAG,MAELK,aAAc,CACZvD,GAAI,MAENwD,WAAY,CACVC,GADU,EAEVlB,GAFU,EAGV1B,SAAU,OAGd6C,GAAI,CACFb,QAAS,CACPC,KADO,GAEPC,GAFO,EAGPC,QAAS,GAEXC,MAAO,CACLC,EAAG,OAELC,YAAa,CACXH,QAAS,KAEXI,KAAM,CACJpD,GADI,EAEJ+C,GAAI,GAENM,SAAU,CACRM,EAAG,GAELL,aAAc,CACZJ,EAAG,OAELK,aAAc,CACZvD,GAAI,OAENwD,WAAY,CACVC,GADU,EAEVlB,GAFU,EAGV1B,SAAU,OAGd+C,GAAI,CACFf,QAAS,CACPC,KADO,GAEPC,GAFO,EAGPC,QAAS,GAEXC,MAAO,CACLC,EAAG,GAELC,YAAa,CACXH,QAAS,KAEXI,KAAM,CACJpD,GADI,EAEJ+C,GAAI,GAENM,SAAU,CACRrD,GADQ,EAER+C,GAAI,GAENO,aAAc,CACZJ,EAAG,GAELK,aAAc,CACZvD,GAAI,GAENwD,WAAY,CACVC,GADU,EAEVlB,GAFU,EAGV1B,SAAU,QAWdgD,UAtHiBpE,YAAD,MAAiC,CACjDqE,KAAMnE,EAD2C,GAEjD4D,aAFiD,EAGjDH,KAAMhC,EAH2C,GAIjDkC,aAAc5B,EAJmC,GAKjDqC,OAAQlC,EALyC,GAMjDsB,YANiD,EAOjDN,QAPiD,EAQjDI,MAjCuD,CACvDe,QADuD,cAEvDC,WAFuD,OAGvDxD,KAHuD,EAIvDyD,QAAS,GA8BTV,WATiD,EAUjDW,QAViD,EAWjDC,MAAOxD,K,qVCvIF,SAASyD,EAAUC,EAAKC,GAC7B,GAAW,MAAPD,EAEJ,GCOK,SAAoBC,GACzB,MAAwB,oBAAVA,EDRVC,CAAWF,GACbA,EAAIC,QAIN,IAEED,EAAIG,QAAUF,EACd,MAAOG,GACP,MAAM,IAAIC,MAAM,wBAA0BJ,EAAQ,aAAeD,EAAM,MAWpE,SAASM,IACd,IAAK,IAAIC,EAAOC,UAAUC,OAAQC,EAAO,IAAIC,MAAMJ,GAAOK,EAAO,EAAGA,EAAOL,EAAMK,IAC/EF,EAAKE,GAAQJ,UAAUI,GAGzB,OAAO,SAAAC,GACLH,EAAKI,SAAQ,SAAAd,GAAG,OAAID,EAAUC,EAAKa,OE9BhC,SAASE,EAAcC,QACZ,IAAZA,IACFA,EAAU,IAGZ,MAIIA,EAJJ,IACEC,cADF,aAEEC,oBAFF,MAEiB,6FAFjB,EAGEC,EAHF,EAGEA,KAEEC,EAAuB,qBAAoBC,GAgB/C,OAfAD,EAAQE,YAAcH,EAef,CAACC,EAAQG,SAbhB,SAASC,IACP,IAAIC,EAAU,aAAiBL,GAE/B,IAAKK,GAAWR,EAAQ,CACtB,IAAIb,EAAQ,IAAIC,MAAMa,GAGtB,MAFAd,EAAMe,KAAO,eACc,MAA3Bd,MAAMqB,mBAAqCrB,MAAMqB,kBAAkBtB,EAAOoB,GACpEpB,EAGR,OAAOqB,GAG6BL,GCjCxC,SAASO,EAAEA,GAAG,MAAM,iBAAiBA,GAAG,MAAMA,GAAG,IAAIA,EAAEC,SAAS,SAASC,EAAEF,EAAEE,GAAG,QAAQA,GAAG,WAAWF,IAAI,YAAYA,GAAG,SAASA,EAAE,SAASG,EAAEH,EAAEG,GAAG,GAAGH,EAAEI,aAAaJ,EAAEK,cAAcL,EAAEM,YAAYN,EAAEO,YAAY,CAAC,IAAIC,EAAEC,iBAAiBT,EAAE,MAAM,OAAOE,EAAEM,EAAEpG,UAAU+F,IAAID,EAAEM,EAAEE,UAAUP,IAAI,SAASH,GAAG,IAAIE,EAAE,SAASF,GAAG,IAAIA,EAAEW,gBAAgBX,EAAEW,cAAcC,YAAY,OAAO,KAAK,IAAI,OAAOZ,EAAEW,cAAcC,YAAYC,aAAa,MAAMb,GAAG,OAAO,MAA9I,CAAqJA,GAAG,QAAQE,IAAIA,EAAEE,aAAaJ,EAAEK,cAAcH,EAAEI,YAAYN,EAAEO,aAArO,CAAmPP,GAAG,OAAM,EAAG,SAASQ,EAAER,EAAEE,EAAEC,EAAEK,EAAEM,EAAEC,EAAEC,EAAEzG,GAAG,OAAOwG,EAAEf,GAAGgB,EAAEd,GAAGa,EAAEf,GAAGgB,EAAEd,EAAE,EAAEa,GAAGf,GAAGzF,GAAG4F,GAAGa,GAAGd,GAAG3F,GAAG4F,EAAEY,EAAEf,EAAEQ,EAAEQ,EAAEd,GAAG3F,EAAE4F,GAAGY,EAAEf,GAAGzF,EAAE4F,EAAEa,EAAEd,EAAEY,EAAE,E,ICoD9nBG,EAoCAC,G,mJApCZ,SAAYD,GACVA,8BACAA,8BACAA,8BACAA,4BACAA,4BACAA,4BACAA,4BACAA,0BARF,CAAYA,MAAZ,KAoCA,SAAYC,GACVA,oBACAA,wBACAA,kCAHF,CAAYA,QAAZ,KAiBA,IAAMC,GAAN,GACMC,GAAN,GAEMC,GAA4B,CAChCC,YADgC,GAEhCC,oBAFgC,GAGhCC,QAHgC,EAIhCC,iBAAkB,GAGpB,SAASC,GAAexC,EAAxB,GACOA,GAAL,GDpHypB,SAASgB,EAAEY,GAAG,IAAIC,EAAEY,OAAOX,EAAEF,EAAEc,WAAWrH,EAAEuG,EAAEe,MAAMC,EAAEhB,EAAEiB,OAAOhG,EAAE+E,EAAEkB,SAASC,EAAEnB,EAAEoB,2BAA2BC,EAAE,mBAAmBpG,EAAEA,EAAE,SAASiE,GAAG,OAAOA,IAAIjE,GAAG,IAAIiE,EAAEE,GAAG,MAAM,IAAIkC,UAAU,kBAAkB,IAAI,IAAIC,EAAEC,SAASC,kBAAkBD,SAASE,gBAAgBC,EAAE,GAAG/E,EAAEwC,EAAEF,EAAEtC,IAAIyE,EAAEzE,IAAI,CAAC,IAAIA,EAAEA,EAAEgF,iBAAiBL,EAAE,CAACI,EAAEE,KAAKjF,GAAG,MAAM,MAAMA,GAAGA,IAAI4E,SAASM,MAAMzC,EAAEzC,KAAKyC,EAAEmC,SAASE,kBAAkB,MAAM9E,GAAGyC,EAAEzC,EAAEuE,IAAIQ,EAAEE,KAAKjF,GAAG,IAAI,IAAIT,EAAE8D,EAAE8B,eAAe9B,EAAE8B,eAAeC,MAAMC,WAAWC,EAAEjC,EAAE8B,eAAe9B,EAAE8B,eAAeI,OAAOC,YAAYpJ,EAAE6H,OAAOwB,SAASC,YAAYC,EAAE1B,OAAO2B,SAASC,YAAYC,EAAEtD,EAAEuD,wBAAwBC,EAAEF,EAAEP,OAAOU,EAAEH,EAAEV,MAAMc,EAAEJ,EAAEK,IAAIC,EAAEN,EAAEO,MAAMC,EAAER,EAAES,OAAOC,EAAEV,EAAEW,KAAKC,EAAE,UAAU7J,GAAG,YAAYA,EAAEqJ,EAAE,QAAQrJ,EAAEyJ,EAAEJ,EAAEF,EAAE,EAAEW,EAAE,WAAWvC,EAAEoC,EAAEP,EAAE,EAAE,QAAQ7B,EAAEgC,EAAEI,EAAEI,EAAE,GAAGC,EAAE,EAAEA,EAAE9B,EAAE3D,OAAOyF,IAAI,CAAC,IAAIC,EAAE/B,EAAE8B,GAAGE,EAAED,EAAEf,wBAAwBiB,EAAED,EAAExB,OAAO0B,EAAEF,EAAE3B,MAAM8B,EAAEH,EAAEZ,IAAIgB,EAAEJ,EAAEV,MAAMe,EAAEL,EAAER,OAAOc,EAAEN,EAAEN,KAAK,GAAG,cAAcnD,GAAG4C,GAAG,GAAGM,GAAG,GAAGF,GAAGhB,GAAGc,GAAG7G,GAAG2G,GAAGgB,GAAGZ,GAAGc,GAAGZ,GAAGa,GAAGjB,GAAGe,EAAE,OAAOP,EAAE,IAAIU,EAAEvE,iBAAiB+D,GAAGS,EAAEC,SAASF,EAAEG,gBAAgB,IAAIC,EAAEF,SAASF,EAAEK,eAAe,IAAIC,EAAEJ,SAASF,EAAEO,iBAAiB,IAAIC,EAAEN,SAASF,EAAES,kBAAkB,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE,gBAAgBpB,EAAEA,EAAEqB,YAAYrB,EAAElE,YAAY2E,EAAEK,EAAE,EAAEQ,EAAE,iBAAiBtB,EAAEA,EAAEuB,aAAavB,EAAEpE,aAAagF,EAAEI,EAAE,EAAE,GAAGnD,IAAImC,EAAEkB,EAAE,UAAUnL,EAAE6J,EAAE,QAAQ7J,EAAE6J,EAAEpB,EAAE,YAAYzI,EAAEiG,EAAE6C,EAAEA,EAAEL,EAAEA,EAAEoC,EAAEI,EAAEnC,EAAEe,EAAEf,EAAEe,EAAEV,EAAEA,GAAGU,EAAEpB,EAAE,EAAE2C,EAAE,UAAU7D,EAAEuC,EAAE,WAAWvC,EAAEuC,EAAEpH,EAAE,EAAE,QAAQ6E,EAAEuC,EAAEpH,EAAEuD,EAAE1G,EAAEA,EAAEmD,EAAEA,EAAEgI,EAAEK,EAAExL,EAAEuK,EAAEvK,EAAEuK,EAAEV,EAAEA,GAAG+B,EAAEM,KAAKC,IAAI,EAAEP,EAAErC,GAAGsC,EAAEK,KAAKC,IAAI,EAAEN,EAAE7L,OAAO,CAAC4L,EAAE,UAAUnL,EAAE6J,EAAEQ,EAAEQ,EAAE,QAAQ7K,EAAE6J,EAAEU,EAAEU,EAAEM,EAAE,YAAYvL,EAAEiG,EAAEoE,EAAEE,EAAEJ,EAAEU,EAAEI,EAAEM,EAAE1B,EAAEA,EAAEV,EAAEA,GAAGU,GAAGQ,EAAEF,EAAE,GAAGoB,EAAE,EAAEH,EAAE,UAAU7D,EAAEuC,EAAEU,EAAEE,EAAE,WAAWnD,EAAEuC,GAAGU,EAAEJ,EAAE,GAAGiB,EAAE,EAAE,QAAQ9D,EAAEuC,EAAEQ,EAAES,EAAEM,EAAEpF,EAAEuE,EAAEF,EAAEF,EAAEM,EAAEK,EAAEM,EAAEvB,EAAEA,EAAEV,EAAEA,GAAG,IAAIuC,EAAE1B,EAAE2B,WAAWC,EAAE5B,EAAE6B,UAAUjC,GAAGgC,GAAGV,EAAEM,KAAKC,IAAI,EAAED,KAAKM,IAAIF,EAAEV,EAAElB,EAAEnE,aAAaqE,EAAEoB,KAAKzB,GAAG6B,GAAGP,EAAEK,KAAKC,IAAI,EAAED,KAAKM,IAAIJ,EAAEP,EAAEnB,EAAEjE,YAAYoE,EAAEiB,KAAKtB,EAAE3B,KAAK,CAAC4D,GAAG/B,EAAEX,IAAI6B,EAAEvB,KAAKwB,IAAI,OAAOrB,ECuHr5EkC,CAAsBtH,EAAM,CAC1C8C,SAD0C,EAE1CH,MAF0C,UAG1CD,WAAY,cAEd6E,SAAgB,gBAAC,EAAD,EAAC,KAAD,EAAC,IAAWtC,EAAZ,EAAYA,KAC1BoC,cACAA,kBAGJ,IAAMG,GAAoC,SAACC,EAAGC,GAAJ,OAA1C,GACMC,GAAsC,SAAC,EAAD,OAMtCC,EAAJ,SACEpF,GAAeqF,EAAD,QAAmBC,EAAjCtF,UAGSuF,GAAkB3I,YAAD,gBACzBA,2BADyB,OACOA,iBACxB4I,GAAe,SAACC,GAAD,IAAiBC,EAAjB,0EACvBA,GADuB,OAC1B,MAAYD,OAAZ,EAAYA,EAAQ7I,QAChB+I,GAA+BF,YAAD,MAChB,kBAAXA,EACH,CAAE7I,MAAF,EAAiBH,MAAO8I,GAAeE,IAF7C,GAIMG,GAAmCjI,YAAD,OACtCA,iBAAgCA,iBADlC,GAGMkI,GAAgC,SAAClI,EAASiC,EAAakG,GAC3D,OAAOnI,EAAA,QACI8H,YAAD,OACNK,6CAGYlG,aALT,wBAOEW,YACL,OAAOuF,4CAGIlG,aAHX,mBAuCN,SAASmG,GAAmBC,EAA5B,KACE,SAOe,EAAH,KADZ,oBAAWC,EACC,eAER,EAAOA,EAASD,EAAD,KAInB,eAEE,EAAOC,IAdP,oBAAWA,EACFA,EAAP,GAEF,EAuCJ,IA8BYC,IAAZ,SAAYA,GACVA,cACAA,gBACAA,cAHF,CAAYA,QAAZ,KAyDM,OAAqCxI,EAA+B,CACxEE,QADwE,EAExEE,KAAM,kBAFF,uCAIA,GAA+CJ,EAEnD,CACAE,QADA,EAEAE,KAAM,uBAJF,uCAMA,GAAyCJ,EAE7C,CACAE,QADA,EAEAE,KAAM,oBAJF,uCAMA,GAAiDJ,EAErD,CACAE,QADA,EAEAE,KAAM,wBAJF,uCAMA,GAAiDJ,EAErD,CACAE,QADA,EAEAE,KAAM,wBAJF,uC,SAoBUqI,G,GAAU,QACxBC,cADwB,aAExBC,cAFwB,aAGxBC,0BAHwB,MAGHJ,GAHG,YAIxBK,mBAJwB,eAKxBT,iBALwB,eAMxBU,oBANwB,eAOxBC,gBAPwB,eAQxBC,qBARwB,eASxBC,mBATwB,gEAcxBC,iBAdwB,MAcZ,eAdY,EAgBxB,EA1KF,SAAyB,EAAzB,GAIE,IAAMC,EAAaC,mBACjBD,YACF,MAA2BE,mBAA3B,sBAAM,EAAN,KAAM,EAAN,KAgBA,MAAO,CAACf,EAfSgB,uBACf,cACE,MACE,MAAM,IAAIhK,MAAV,kDAEF,OAAOiK,GAAWC,YAAD,OACdL,YAECM,EAFDN,GADH,QAQF,CAbF,KAsKIO,CAAgB,GAHpB,6BACE,EADF,EACE,cADF,EACE,sBADF,EACE,OAA4CrH,EAD9C,EAC8CA,iBADxC,EAAN,KAKMsH,GAAN,EAIM/B,EAAawB,mBACbQ,EAAkBR,iBAAxB,IACMS,EAAWT,iBAAjB,IACMzB,EAAWyB,mBACXU,EAAaV,mBACbW,EAAYX,iBAAlB,IACMY,EAAcZ,mBACda,EAAcb,mBACdc,EAAmBd,mBACnBe,EAAsBf,iBAA5B,GACMgB,GAAsBhB,mBACtBiB,GAAkBjB,kBAAxB,GAEMkB,GAASC,YAAU,CACvBrB,cAGFiB,YACEF,YACAC,YACAF,YAGEL,GAAJ,qBAAoBzK,IAClBA,MAIF,IACEe,MAGF,IAAMuK,GAAN,EAIAvK,EAAUwK,mBAAQ,WAE0C,MAUhC,EAV1B,OAAI7B,IAAuBJ,GAA3B,MACE,mBAAO,OAAcrN,YAAD,kBACfiN,EADe,IAElBsC,SAAQ,OAAG,EAAA9K,mBAA+B,CAACV,GAAnC,YAAE,QACP+E,YAAD,OAAYmE,aAAuBA,KAD3B,cAOVuB,IAAJ,EACE,mBAAO,UACJxO,YAAD,cACE,aAAC+D,QAAa+E,YAAD,OAAYmE,aAAuBA,KADlD,aAIJ,IACC,CAACnI,EAASf,EAAOyL,EAAYhB,EAAOvB,EAnBvCnI,IAsBA,IAAM2K,GAAiBH,mBAAQ,WAC7B,SAOSvL,OACJ2L,YAAD,OACEL,SACGrP,YAAD,OAAOiN,aAAuBA,KADhCoC,UAEKpC,EAJT,MALEoC,SACGrP,YAAD,OAAOiN,aAAuBA,KADhCoC,UAEKpC,EAHP,KAaD,CAACuB,EAAOzK,EAAOsL,GAflB,IAmBAvK,EAAUwK,mBAAQ,WAChB,SACE,MAAQR,EAAR,eAAQA,cAAR,GAMF,IACC,CAAChK,EAASkC,EATblC,IAaAA,EAAUwK,mBAAQ,WAChB,OAAI/B,GAAJ,EACE,CAAO,GAAGoC,SAAS,GAAS1C,EAArB,KAAP,uBAEF,IACC,CAACM,EAAQxG,EAAajC,EALzBA,IAOA4J,YACAD,YAIA,IA/PAmB,GA+PMC,GAAU1B,uBAAa2B,YAC3BC,GACG1B,YAAD,OAASnB,GAAmBmB,EAAKyB,EAD3B,YAENnJ,GAFFoJ,WADF,IAOMC,GAAQ7B,uBAAY,WACxB0B,SADF,IAIMI,GAAO9B,uBAAY,WACvB0B,SADF,IAIMK,GA3VR,SAAqBC,GAArB,IAAkCC,EAAlC,yDACQtM,EAAMmK,iBAAZ,MACMoC,EAAQpC,mBAUd,OARAoC,YAEAC,qBAAU,WACR,OAAO,WACLC,aAAazM,EAAbyM,YAED,CAJHD,IAMOnC,sBAAW,sBAChB,4CAAAzG,EAAA,iHACM5D,EAAJ,SACEyM,aAAazM,EAAbyM,SAFJ,kBAIS,IAAIC,SAAQ,cACjB1M,UAAc2M,YAAW,WACvB3M,eACA,IACE4M,EAASL,kBAATK,IACA,MAAOC,GACPC,QALJ9M,OALJ,2CAeA,CAhBF,IA+U0B+M,EAAa9M,YACrCgM,GACG1B,YAAD,OAASnB,GAAmBmB,EAAKtK,EAD3B,yBAEN4C,GAFFoJ,aAICrC,EALH,IAOMoD,GAAY3C,uBAAapK,YAC7BgM,GACG1B,YAAD,OAASnB,GAAmBmB,EAAKtK,EAD3B,iBAEN4C,GAFFoJ,WAIAG,QALF,IAQMa,GAAiB5C,uBAAapK,YAClC,IAAMiN,EAAWvC,EAAjB,QACAsB,GAAU1B,YACR,eAEEnH,iBAAkBuE,SAChBA,WAEmB,oBAAV1H,EAAuBA,EAAMsK,EAApC,kBAHc5C,GAKhBuF,SALgBvF,OAQnB9E,GAXHoJ,kBAFF,IAgBMkB,GAAc9C,uBACjB+C,YACC,IAAMtE,EAAS6B,UAAf,GACA,KAAY,CACV,IAAMgB,EAAiBxC,EAAvB,GAEA,KAOO,CACL,IAAMkE,EAASzC,EAAf,SAEEc,GACC2B,QACErI,YAAD,OAAYmE,aAAuBwC,EAHvC,UAMIZ,iDAA8B,GAA9BA,CAA0CY,EAA1CZ,QAAiE,CACjEuC,OAAQ3B,UACJ/I,EADI+I,YAEJ/I,EAH6D,YAIjE3C,MAAO0L,SAlBTZ,2BAA8BY,EAA9BZ,MAAoD,CACpDuC,OAAQ3B,UACJ/I,EADI+I,aAEJ/I,EAHgD,aAIpD3C,MAAO0L,KAoBTlC,GAAJ,IACEuD,OAEF,GACEd,OAGJ,CAACxB,EAAOjB,EAAQiC,EAtClB,IAyCM6B,GAAWlD,uBAAY,WACzBU,2BAA8BL,EAAQ,GAAtCK,GAA+C,CAC/CuC,OAAQ5C,EAAQ9H,EAAH,WAA8BA,EADI,YAE/C3C,MAAO,OAER,CALH,IAOMuN,GAAcnD,uBACjBrF,YACC,IAAMyI,EAAN,kBAAuBzI,EACjB0I,EAAS/M,cAAciK,EAA7B,SACMyC,EACJK,EAAS9C,EAAH,QAAsB,CAACA,EAD/B,SAGM+C,EAAQN,UAAc,qBAC1BI,EAAUhL,IAAH,EAAauC,IADtB,KAGA,EACI+F,YAAmC,CACnCuC,OAAQ1K,EAD2B,YAEnC3C,MAAOkJ,EAAUsE,EAAUJ,EAAH,GAAR,KAGhBtC,UAA4B4C,MAA5B5C,GAA4C,CAC5CuC,OAAQ1K,EADoC,aAE5C3C,MAAOkJ,EAAUsE,EAAUJ,EAAH,GAAR,OAItB,CAtBF,IA2BMO,GAA0BvD,uBAAaxI,YAC3CmL,GAAUnL,SAAVmL,OACAb,OAFF,IAKM0B,GAAoBxD,uBAAY,WAC/BZ,IAAL,GACEuD,OAEFb,OACC,CAAC1C,EALJ,IASMqE,GACJ,SAACC,EAAD,UACA,kBAAC,EAAD,EAAC,MAASC,EAAV,EAAUA,KACRnM,mBACA,IAAMoM,EACJC,UAEIH,KACA/D,EADA+D,EAHN,EAMA5B,KACAf,cACA6B,IAAgB1C,YAAD,OAAiBA,EAAhC0C,OAGEkB,GACJ,SAACJ,EAAD,UACA,kBAAC,EAAD,EAAC,MAASC,EAAV,EAAUA,KACRnM,mBACA,IAAMoM,EACJC,UAEIH,KACA/D,EADA+D,EAHN,EAMA5B,KACAf,cACA6B,IAAgB1C,YAAD,OAAiBA,EAAhC0C,OAGEmB,GAAQ/D,uBACZ,cACE,KAAY,CACV,IAAM6C,EAAWvC,EAAjB,SACI1H,GAAeiK,EAAUhC,EAA7B,WACErJ,mBAEEqL,EAAUhC,EAAd,UACEiC,GAAYjC,EAAZiC,YAIN,CAAChK,EAZH,IAeMkL,GAAYhE,uBAAY,WAC5B,IAAMgD,EAASzC,EAAf,QACM0D,EAAY5D,EAAQ2C,EAAOA,SAAV,GAAvB,GACK3C,IAAD,IAA6BA,GAAjC,KACE8C,MACAR,UAED,CAAC/J,EAPJ,IASMsL,IA5bNzC,GA4b4B,CAC1BgC,QAASA,KACTK,UAAWA,KACXK,OAAQV,IAHkB,GAI1BW,SAAUN,IAJgB,GAK1BO,KAAMZ,IAAQ,GALY,GAM1Ba,IAAKR,IAAU,GANW,GAO1BS,OAP0B,GAQ1BC,IAR0B,GAS1BT,SACAC,cAlcK,eAAC,EAAD,0DAAGS,EAAF,EAAEA,UACR,YADsBC,QACtB,CAEED,UAAYjN,YACV,IAAM,EAAN,EAAM,UAAN,EAAM,MAAN,EAAsBmN,SAA0BhB,EAAhD,EAAuCiB,QACjCC,EAAUpD,OAAiBA,GAAjC,GACA,GACEoD,EACE,CACEC,UACAC,MACAC,QACArB,QALJkB,GAUF,GACEJ,UAmbFQ,GAAgBjF,uBACpB,iBACE,EADF,0DACE,IACEkF,cADF,2DAMEC,EANF,EAMEA,OACGT,UAGL,OAAOR,GAAY,GAAD,mBAChB,GAAWrG,YACPQ,YACF,IACE1I,gBAJY,uBAQbmD,EACGF,GAAe0I,GADZ,MAEHA,GAAc,MACdA,QADc,EACdA,GADc,MAFlB,KARc,8BAaL9J,YACT+L,MACA,GACE6B,QAhBY,yBAmBN5N,YACRgM,KACA,GACE6B,QAtBY,yBAyBN7N,YACRgM,KACA,GACE8B,QA5BY,wBA+BP9N,YACP,IACEA,YACEiJ,eACAA,sBAnCU,GAAlB,MAyCF,CAAC,EAAD,QArDF,KA8DM8E,GAAiBvF,uBACrB,eACE,EADF,0DACE,cAAS+E,WAAT,uCAA6CtG,EAA7C,EAA6CA,OAAWiG,UAExD,GAAqB,kBAAV3B,GAAsBA,EAAjC,EACE,MAAM,IAAN,MAAM,0GAKR,UACEgC,MACAtG,UAFF,GAIE6G,QAAU9N,iBACJiH,gBAAiCA,EAArC,SACE0E,GAAY1E,EAAZ0E,OAEAL,MAEF,GACEwC,MAGJE,aAAehO,YACbuJ,cACA6B,MACA,GACE4C,UA5BV,IA6EA,OA8BF,SAA4B,EAA5B,OAME,IAAMC,EAAmB3F,mBACnB4F,EAAkB5F,mBAClBoC,EAAQpC,mBAEZoC,YACF,IAAMyD,EACJC,GADF,EAGMC,EACJrF,GADF,EAGMsF,EAAS9F,uBAAaxI,YAC1B,IAAMuO,EAAN,eAAgBvO,OAChB,GAAIA,mBAAJ,GAIA,IAAMwO,EAAYH,EAAlB,QACMI,EAAaN,EAAnB,QACMK,oBAAoBxO,EAApBwO,eAAiCC,cAAqBzO,EAA5D,SACI0K,gBATN,IAaAC,qBAAU,WAMR,OALA,IACEvI,6CACAA,yCAGK,WACLA,gDACAA,8CAED,CAACsM,EAVJ/D,IAjGAgE,CAAmBrN,EAAQ+I,GAAOvD,EAAlC6H,GAGAhE,qBAAU,WACR,GACES,QAED,CAAChK,EAJJuJ,KAOAA,qBAAU,W,MAG0C,GAFlDS,OAEK9J,GAAD,OAAY,EAAA2H,EAAZ,UAAYA,EAAhB,SACI,SAAAA,EAAA,eAA+BA,UAA/B,OACAA,wBAEH,CAPH0B,IAUAA,qBAAU,WACNvB,wCAMD,CAPHuB,IASAA,qBAAU,WACJrJ,GAAUuF,EAAd,SACEiE,YAAW,W,MACP,SAAAjE,EAAA,yBAGL,CANH8D,IAQO,CACL9B,QACA+F,UAAW/F,MAAY/J,iBAAuBV,SAAvBU,EAFlB,GAGL4M,YACA5E,aACAkC,aACAQ,UAEApL,QACAgD,cACAE,SACA+H,sBACAC,uBACAC,mBACAO,kBACA+E,eAfK,EAgBL/G,qBAEAwD,eACAK,eACAzB,WACAiB,aACAC,kBAEAqC,iBACAM,kBACAzG,a,6dCxwBSwH,GAAYC,YAAO,OAEnBC,GAAiC1V,YAC5C,IAAQ2V,EAAR,EAAQA,SAEFC,EAASC,YAAoB,cAAnC,GAGMC,EAAMzH,GAFK0H,YAAjB,IAGMzP,EAAU+J,mBAAQ,kBAAD,IAAY,CAAnC,IACM2F,EAAqB3F,mBACzB,iBAAO,CAAE8D,cAAe2B,EAAI3B,iBAC5B,CAAC2B,EAFH,gBAIMG,EAAkB5F,mBACtB,iBAAO,CAAEgC,YAAayD,EAAIzD,eAC1B,CAACyD,EAFH,cAIMI,EAAsB7F,mBAC1B,iBAAO,CACLvL,MAAOgR,EADF,MAELvG,MAAOuG,EAFF,MAGLtH,mBAAoBsH,EAAItH,sBAE1B,CAACsH,EAAD,MAAYA,EAAZ,MAAuBA,EANzB,qBAQMK,EAAsB9F,mBAC1B,iBAAO,CACLrI,OAAQ8N,EADH,OAELlF,QAASkF,EAFJ,QAGLR,UAAWQ,EAHN,UAIL1D,SAAU0D,EAAI1D,YAEhB,CAAC0D,EAAD,OAAaA,EAAb,QAA0BA,EAA1B,UAAyCA,EAP3C,WAUA,OACEM,cAACC,mBAAevR,MAAO8Q,G,UACrBQ,cAACE,kBAAexR,MAAOwB,G,UACrB8P,cAACG,kBAAoBzR,MAAOkR,G,UAC1BI,cAACI,kBAAqB1R,MAAOoR,G,UAC3BE,cAACK,kBAAiB3R,MAAOmR,G,UACvBG,cAACM,kBAAqB5R,MAAOqR,G,UAC3BC,cAACX,IAAOkB,mBAAIC,IAAI,Y,UAAYjB,S,gEAU/BkB,GAAcC,gBAAgC9W,YACzD,IAAM+W,E,WD6xBoC,IAAb/W,EAAa,0DACpC4V,EAASoB,cAEf,eAEEC,MAAOrB,EAAOjR,QClyBGuS,GAEnB,OAAOd,cAACX,IAAO9Q,uBAAU3E,EAAW+W,cAEtCF,6B,IAEaM,GAAoBL,gBAE/B,gBAAC,EAAD,EAAC,MAASpG,EAAV,EAAUA,QAAV,OACA0G,eAACC,mBAAOC,eAAe,gBAAgBhX,EAAE,Q,WACvC8V,cAACmB,K,SAAK5S,Q,KACL,GACCyR,cAACoB,mBAAIC,WAAY,G,UACfrB,cAACsB,mBAAStW,SAAS,KAAKG,WAAW,Q,kDAO3C4V,mC,IAEaQ,GAAmBb,gBAC9B,YAAC,+CAAiCpG,EAAjC,EAAiCA,QAAY1Q,UAC5C,E,WDg0BwD,IAA9B,EAA8B,0DAA5BsQ,EAAF,EAAEA,SAAatQ,UAC3C,EACE4X,KADI,EAAN,EAAM,iBAAN,EAAM,oBAAuC5H,EAA7C,EAA6CA,oBAEvC4F,EAASoB,cACTa,EAAc9H,YAAgC/P,EAApD,MAEA,OAAOqQ,mBAAQ,W,QACP1C,EAAS,CACb7I,MAAO9E,EADM,MAEb2E,MAAO3E,SAAeyN,GAAezN,EAFxB,OAGbsQ,YAEF,YACKmE,EAAgB,CACjB9G,SACAsG,IAAKjU,OAAa0N,GAFD,GAGjBuE,MAAOjS,EAAMiS,QAJjB,CAME6F,eAAgBD,EAAc7H,OANhC,EAOEiH,MAAO,EAAF,GACArB,EADA,cAECtF,GAAasF,EAFd,aAEA,EAFA,mBAGCiC,GAAgBjC,EAHjB,aAGA,EAHA,aAMN,CAAC,EAAD,EAGD5V,EAHC,IAIDA,EAJC,MAKDA,EALC,MAMDA,EANC,MAOD4V,EA1BF,OCt0BmDmC,CAAc,CAC7DjT,QACAH,QACAsN,QACA3B,aAJI,EAAN,EAAM,eAAkB3C,EAAxB,EAAwBA,OAAxB,UAOA,OACEyI,cAACX,IAAOuC,kBACNnT,IAAKiT,GAAkBA,EACvBG,KAAK,UACA3H,GAAY,CAAE,gBAAiBA,GAChCtQ,EACAkY,G,SAEJ9B,cAACe,IAAkBxS,OAAO,MAAAgJ,OAAA,EAAAA,EAAA,QAAiB7I,EAAO4L,UAAWA,Q,gBAMxDyH,GAAqBrB,gBAChC,oBAAGnS,aAAH,MAAW,mBAAX,EACQiR,EAASoB,cACf,OACEZ,cAACX,IAAOuC,kBAAGf,MAAOrB,EAAOjS,M,UACvByS,cAACe,IAAkBxS,MAAOA,Q,gBAMrByT,GAAatB,gBAAK,WAC7B,M,WDo0BA,MACEc,KADI,EAAN,EAAM,SAAN,EAAM,YAAN,EAAM,aAAN,EAAM,OAAyCrC,EAA/C,EAA+CA,eAEzCK,EAASoB,cAEf,OAAO3G,mBACL,iBAAO,CACLxL,IAAKM,EAAUqI,EAAY0C,EADtB,WAELlI,SACAuN,iBACAvH,YACAiJ,MAAOrB,EAAOvR,QAEhB,CAAC2D,EAAQuN,EAAgBK,EAR3B,OCj0BIyC,GAPE,EAAN,EAAM,QAAN,EAAM,iBAAN,EAAM,SAAN,EAAM,UAKCC,EALP,EAKEzT,IALF,UASM0T,EAAN,EACMC,EAAkBtJ,uBAAY,cAClC,IAAMuJ,EAAazK,EAAnB,GACA,MAAO,CACLiG,IAAKwE,MAAiB/K,GAAa+K,EAD9B,WAEL3T,MAAO2T,EAFF,MAGL9T,MAAO8T,SAAoBhL,GAAegL,EAHrC,OAILnI,SAAUmI,EAJL,SAKL/H,QAAS+H,EALJ,QAMLxG,WARJ,IAaA,OACEmE,cAACX,IAAOiD,kBACN7T,IAAKyT,EACLrB,MAAO5G,mBACL,qBACEsI,UADF,OAEEC,SAAU,aACLL,GAAmB,CAAEM,QAAS,QAJzB,KAOZ,CAACN,EAPW,I,mBASG,WACjBN,KAAK,WACDa,G,SAEHP,GAAmBhD,SAAnB,EACCA,EAAA,KAAmB,cACjB,MAA2CiD,EAAgB,EAA3D,GAAaO,EAAb,EAAQ9E,IAAR,UAIA,OAAOmC,cAACuB,oBAAmCqB,GAA3C,MAGF5C,cAAC+B,qB,MAUHc,GAEF,SAAC,GAAD,IAAC,EAAD,EAAC,SAAD,IAAa3P,aAAb,MAAC,EAAD,MAAwBG,cAAxB,MAAC,EAAD,EAAoCwN,EAApC,EAAoCA,MAApC,iBACFb,cAACZ,kBACC0D,QAAQ,YACRC,OAAO,eACPC,KAAK,OACL9P,MAAOA,EACPG,OAAQA,EACRwN,MAAK,OAECoC,IAAQ,MAAMpC,OAAN,EAAMA,EAFf,WAIDjX,G,SAEJoW,sBACEkD,cAAc,QACdC,eAAe,QACfC,YAAY,IACZzY,EAAE,uB,cAKF0Y,GAEF,SAAC,GAAD,QAAGnQ,aAAH,MAAC,EAAD,MAAcG,cAAd,MAAuB,EAAvB,mBACF2M,cAACZ,kBACC0D,QAAQ,YACRC,OAAO,eACPC,KAAK,OACL9P,MAAOA,EACPG,OAAQA,GACJzJ,G,SAEJoW,sBACEkD,cAAc,QACdC,eAAe,QACfC,YAAY,IACZzY,EAAE,6E,cAKK2Y,GAAc5C,gBAAM9W,YAC/B,IAAM2Z,E,WDmnBoC,IAAb3Z,EAAa,0DAClCmU,EAAkByF,KAAlBzF,cACFyB,EAASoB,cAEf,cAEK7C,IAFL,CAGE8C,MAAOrB,EAAOpS,QC1nBGqW,CAAnB,GAEA,OAAOzD,cAACX,IAAOjS,uBAAUmW,cAE3BD,6B,IAEaI,GAAehD,gBAAwB,YAAC,IAAEhS,EAAF,EAAEA,MACrD,E,WDiqB2C,IAAb9E,EAAa,0DACnCqS,EAAgB0H,KAAhB1H,YACFuD,EAASoB,cAETxC,EAAUtF,uBAAY,kBAAMmD,EAAYrS,EAAnB,SAAiC,CAACA,EAA7D,QAEA,OAAOqQ,mBACL,iBAAO,CACL4D,IAAKjU,OAAaA,EADb,MAELwU,UACAyC,MAAOrB,EAAO/R,gBAEhB,CAAC7D,EAAD,MAAcA,EAAd,MAAkC4V,EANpC,eCvqByCoE,CAAgB,EAAD,CACtDlV,SAF6D9E,UACzD,EAAN,EAAM,QAAWiX,EAAjB,EAAiBA,MAAjB,UAKA,OACEG,eAACI,qBAASP,EAAmBiB,G,UAC3B9B,cAACsB,K,SAAU5S,Q,GACXsR,cAAC6D,KAAezF,QAASA,Q,iBAI/BsF,8B,IAEaI,GAAqBpD,gBAAmB9W,YACnD,M,WDgnB2C,I,EAAbA,EAAa,0DAC3C,EAA4Bma,KAAtB,EAAN,EAAM,OAAUvJ,EAAhB,EAAgBA,QACV4D,EAAUtF,uBACbxI,YACCA,mBACAA,oBACEkK,GAAiBrJ,YAAD,OAAhBqJ,OAEJ,CANF,IAQMgF,EAASoB,cAEf,eAEEC,MAAO,EAAF,GACArB,EADA,gBAEC5N,GAAW4N,EAFZ,eAEA,EAJP,SAME5N,SACAwM,YC5nBE4F,CAPJ,GAAM,EAAN,EAAM,MAAN,IAEEpX,YAFF,MAAM,KAAN,MAGEqX,iBAHF,MAAM,cAAN,MAIEC,YAJF,MAAM,GAAN,EAKEtS,EALF,EAKEA,OALF,UASA,OACEoO,cAACmE,mBACCC,SAAU,EACVxX,KAAMA,E,aACMqX,E,iBACG,E,gBACArS,EACfyS,KACErE,cAACkE,GACCjB,SAAUrR,EACViP,MAAO,CACLyD,mBADK,QAELC,mBAFK,YAGL7Y,QAAS,CAAE8Y,UAAW,yB,IAIxB3D,EACA4D,cAIVX,oC,IAEaY,GAAoBhE,gBAAmB9W,YAClD,M,WDqmB0C,IAAbA,EAAa,0DACpC4V,EAASoB,cAEf,eAEEC,MAAO,EAAF,GACArB,EADA,UCpmBHmF,CANJ,GAAM,EAAN,EAAM,MAAN,IAEE/X,YAFF,MAAM,KAAN,MAGEqX,iBAHF,MAAM,qBAAN,MAIEC,YAJF,MAISb,GAJT,YAQA,OACErD,cAACmE,mBACCC,SAAU,EACVxX,KAAMA,E,aACMqX,EACZI,KAAMrE,cAACkE,cACHrD,EACA4D,cAIVC,mC,IAEaE,GAAelE,gBAAK,YAAC,IAAEnB,EAAF,EAAEA,SAClC,E,WD+pB2C,IAAb3V,EAAa,0DAC3C,EAIIib,KAJE,EAAN,EACEnW,MADI,EAAN,EAAM,MAGJ0J,EAHF,EAGEA,mBAEIoH,EAASoB,cAEf,eAEEzH,QACA2L,gBACA1M,qBACAyI,MAAOrB,EALT,aAMEhS,SAAU,CACRqT,MAAOrB,EAAOhS,YCvqBduX,CAR2Cnb,SACzC,EAAN,EAAM,QAAN,EAAM,WAAN,EAAM,gBAAN,EAAM,MAKJwO,EALF,EAKEA,mBALF,UASA,OACE4I,eAACG,qBAAQN,EAAWmE,G,UACjB7L,GACCf,IAAuBJ,GADxBmB,aAEC2L,OAFD3L,EAEC2L,EAAA,KAAoBrX,YAAD,OACjBuS,cAAC0D,IAEChV,MAAOjB,GAFTuS,wBAHH7G,QAQAA,GACCf,IAAuBJ,GADxBmB,QAEE,MAAC2L,MAFH3L,SAGG6G,cAACmB,qBAAQ3T,iBAAUqT,O,SAAQiE,mC,GAE9BvF,U,MAIPqF,8B,IAEaK,GAAoBvE,gBAAM9W,YACrC,M,WDofgD,IAAbA,EAAa,0DAChD,EAAgCma,KAA1B,EAAN,EAAM,SAAY7E,EAAlB,EAAkBA,UACZM,EAASoB,cAETsE,EAAepM,uBAAaxI,YAChCA,mBACAA,oBACA0L,MAHF,IAMA,eAEEkJ,eACAhG,YACA2B,MAAOrB,EAAOlS,cCjgBd6X,CADF,GAAM,EAAN,EAAM,QAAN,EAAM,UAAoBD,EAA1B,EAA0BA,aAA1B,UAGA,OACElE,eAACC,qBAAWJ,EAAWuE,G,UACpBlG,GAAac,cAAC0E,IAAkBtG,QAAS8G,Q,GAC1ClF,cAAC8D,sB,MAIPmB,mC,IAEaI,GAAgBC,aAC3B,kBAAG/F,EAAH,EAAGA,SACD,E,WDsoB0C,IAAb3V,EAAa,0DAC5C,EAAuC4X,KAAjC,EAAN,EAAM,SAAN,EAAM,OAAkBlI,EAAxB,EAAwBA,WAClBkG,EAASoB,cAEf,cAEK3G,mBACD,iBAAO,CACLxL,IAAKM,EAAUnF,EAAD,MAAwBkQ,EAAxB,iBAEhB,CAAClQ,EAAD,MAAwBkQ,EAN5B,gBAQElI,SACAiP,MAAOrB,EAAOxS,UCnpBqBuY,CAAiB,CAAE9W,QAAhD,EAAN,EAAQA,IAAiBoS,EAAzB,EAAyBA,MAEzB,OACEb,cAACwF,mBAAM/W,IAAK6K,EAAYmM,GAAIxE,KAAYJ,G,SACrCtB,S,MAMImG,GAA0C,SAAC,OACtDnX,EADsD,EACtDA,MACG3E,UAEH,OACEoX,eAAC1B,oBAAW1V,G,UACT2E,GAASyR,cAACS,I,SAAalS,Q,GACxByS,eAACqE,I,UACCrF,cAAC4E,I,SACC5E,cAACsD,oB,GAEHtD,cAACiF,qB,GAEHjF,cAACgC,sB,sCC/aD2D,GAAQC,YAAY,CACxBC,WAAY,CACVH,YAAY,2BACPI,GADM,IAET9X,UAAW,SAACpE,GACV,IAAMoE,EAAY8X,EAAiB9X,UAAUpE,GAC7C,OAAO,eACFoE,SAOP+X,GAAqB,WACzB,IAAQC,EAAoBC,cAApBD,gBACFE,EAAWC,YAAkB,OAAQ,SAE3C,OACE,cAAC,IAAD,CAAMC,QAAQ,WAAWlb,GAAI,EAA7B,SACE,cAAC,IAAD,CACE0B,KAAK,KACLd,QAAQ,QACR7B,MAAM,UACNoc,WAAW,IACXjI,QAAS4H,EALX,6BAMeE,EANf,cAwCAvK,GA7BQ,CACZ,YACA,YACA,YACA,SACA,YACA,cACA,cACA,UACA,cACA,WACA,aACA,gBACA,UACA,aACA,UACA,UACA,aACA,eACA,cACA,cACA,WACA,YACA,YACA,cACA,aACA,aAGqB2K,KAAI,SAAC/X,GAAD,MAAY,CAAEA,QAAOG,MAAOH,EAAMgY,kBAEvDC,GAGF,SAAC,GAA0E,IAA9DC,EAA6D,EAAvEvI,SAA4BpC,EAA2C,EAAlDpN,MAAwBgY,EAA0B,EAAnCjX,QAAuB7F,EAAY,kBAC5E,E,WF8+B6B,IAA7BA,EAA6B,0DAEvBgO,EAAYhO,aAAlB,GACA,EAA0BiP,mBAASjP,EAAnC,0BAAM,EAAN,KAAM,EAAN,KACA,EAA8BiP,oBAAmB,kBAC/CjP,cADF,yBAAM,EAAN,KAAM,EAAN,KAGMsU,EAAWpF,uBACf,cACE,aAAQ6N,OAAR,EAAQA,EAAR,QACE,KAAKtV,EAAL,aACEuV,KACAC,GAAY1V,YACV,IAAM2V,EAAMlP,EAAZ,GACA,OAAOzG,QAAQ4V,YAAD,OAAQnP,aAAwBkP,EAAvC3V,YAEH,QAAWmJ,SAAS,KAFjBnJ,mBAAP,OAIF,MACF,KAAKE,EAAL,YACA,KAAKA,EAAL,aAGA,KAAKA,EAAL,aACEuV,KACA,MACF,KAAKvV,EAAL,YACE,IAAM2V,EAAN,EACM1M,EAAU2M,EAAKD,SAArB,GACAJ,KACAC,GAAY1V,YACV,IAAM2V,EAAMlP,EAAZ,GACA,OAAOzG,QAAQ4V,YAAD,OAAQnP,aAAwBkP,EAAvC3V,YAEH,QAAWmJ,SAAS,KAFjBnJ,mBAAP,OAIF,MACF,KAAKE,EAAL,WACA,KAAKA,EAAL,YACEuV,KACA,MACF,KAAKvV,EAAL,YACA,QACEuV,QAGN,CAACA,EAAUC,EAvCb,IA0CA,MAAO,CACLnY,QACAe,UACAyO,YEliCmCgJ,CAAe,CAClDxY,MAAOoN,GAAUlS,EAAMuO,OAAS,GAAK,GACrC1I,QAASiX,EACTxI,SAAUuI,IAHJ/X,EAAR,EAAQA,MAAOe,EAAf,EAAeA,QAASyO,EAAxB,EAAwBA,SAMxB,OACE,cAAC,GAAD,aACExP,MAAOA,EACPe,QAASA,EACTyO,SAAUA,GACNtU,KA8DKud,GAzDH,WACV,OACE,qCACE,cAAC,IAAD,CAAiBC,iBAAiB,UAClC,cAAC,IAAD,CAAgBzB,MAAOA,GAAvB,SACE,eAAC,IAAD,CAAQ1Y,KAAK,QAAQ/C,EAAE,OAAvB,UACE,cAAC,GAAD,IACA,eAAC,IAAD,CACEiD,QAAQ,KACRjD,EAAE,OACFU,KAAK,IACLsW,eAAe,SACfpW,WAAW,SALb,UAOE,cAAC,GAAD,CACE2E,QAASkM,GACTpN,MAAM,uBACN4J,QAAM,IAER,cAAC,GAAD,CACE1I,QAASkM,GACTpN,MAAM,0BAER,cAAC,GAAD,CACEkB,QAASkM,GACTpN,MAAM,iCACN4J,QAAM,EACND,QAAM,IAER,cAAC,GAAD,CACEzI,QAASkM,GACTpN,MAAM,kCACN2J,QAAM,IAER,cAAC,GAAD,CACEzI,QAASkM,GACTpN,MAAM,2CACN6J,mBAAoBJ,GAAwBqP,KAC5ClP,QAAM,IAER,cAAC,GAAD,CACE1I,QAASkM,GACTpN,MAAM,4CACN6J,mBAAoBJ,GAAwBqP,OAE9C,cAAC,GAAD,CACE5X,QAASkM,GACTpN,MAAM,4CACN6J,mBAAoBJ,GAAwBsP,mBChJ1DC,IAASC,OAAO,cAAC,GAAD,IAAS9U,SAAS+U,eAAe,W","file":"static/js/main.83bbba39.chunk.js","sourcesContent":["import { runIfFn } from \"@chakra-ui/utils\";\nexport { runIfFn };\nexport function mode(light, dark) {\n  return props => props.colorMode === \"dark\" ? dark : light;\n}\nexport function orient(options) {\n  var {\n    orientation,\n    vertical,\n    horizontal\n  } = options;\n  if (!orientation) return {};\n  return orientation === \"vertical\" ? vertical : horizontal;\n}\n//# sourceMappingURL=component.js.map","import { mode } from '@chakra-ui/theme-tools'\n\nconst parts = [\n  'item',\n  'selectedItem',\n  'list',\n  'textList',\n  'selectedList',\n  'actionGroup',\n  'control',\n  'input',\n  'button',\n  'groupTitle',\n  'divider',\n  'label',\n]\n\nfunction baseStyleList(props: Record<string, any>) {\n  return {\n    bg: mode(`#fff`, `gray.700`)(props),\n    boxShadow: mode(`sm`, `dark-lg`)(props),\n    color: 'inherit',\n    w: 'full',\n    py: '2',\n    zIndex: 1,\n    borderRadius: 'md',\n    borderWidth: '1px',\n    maxH: '64',\n    overflowY: 'auto',\n    overscrollBehaviorY: 'contain',\n  }\n}\n\nconst baseStyleSelectedList = {\n  d: 'flex',\n  flex: 1,\n  flexWrap: 'wrap',\n  alignItems: 'center',\n}\n\nconst baseStyleLabel = {\n  fontSize: 'md',\n  marginEnd: 3,\n  mb: 2,\n  fontWeight: 'medium',\n  transition: 'all 0.2s',\n  opacity: 1,\n  _disabled: {\n    opacity: 0.4,\n  },\n}\n\nfunction baseStyleItem(props: Record<string, any>) {\n  return {\n    cursor: 'pointer',\n    transition: 'background 50ms ease-out',\n    _focus: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n      boxShadow: 'outline',\n    },\n    _active: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n    },\n    _expanded: {\n      bg: mode(`gray.50`, `whiteAlpha.100`)(props),\n    },\n    _selected: {\n      bg: mode(`gray.100`, `whiteAlpha.300`)(props),\n    },\n    _disabled: {\n      opacity: 0.4,\n      cursor: 'not-allowed',\n    },\n  }\n}\n\nfunction baseStyleSelectedItem(props: Record<string, any>) {\n  return {\n    borderRadius: 'full',\n    variant: 'solid',\n    colorscheme: props.colorscheme,\n  }\n}\n\nfunction baseStyleButton(props: Record<string, any>) {\n  return {\n    variant: 'ghost',\n    _hover: {\n      bg: mode(`gray.200`, `whiteAlpha.300`)(props),\n    },\n    _focus: {\n      bg: mode(`gray.200`, `whiteAlpha.300`)(props),\n      boxShadow: 'outline',\n    },\n    _active: {\n      bg: mode(`gray.100`, `whiteAlpha.100`)(props),\n    },\n    colorscheme: props.colorscheme,\n  }\n}\n\nconst baseStyleControl = {\n  h: 'auto',\n  minW: 72,\n}\n\n// eslint-disable-next-line\nconst baseStyleInput = (_props: Record<string, any>) => ({\n  bgColor: 'transparent',\n  appearance: 'none',\n  flex: 1,\n  outline: 0,\n})\n\nconst baseStyleActionGroup = {\n  d: 'flex',\n  alignItems: 'center',\n}\n\nconst baseStyleGroupTitle = {\n  fontWeight: 'semibold',\n}\n\nconst baseStyleDivider = {\n  d: 'inline',\n  h: 'full',\n  border: 0,\n  borderColor: 'inherit',\n  my: 1,\n  opacity: 0.8,\n}\n\nconst baseStyle = (props: Record<string, any>) => ({\n  list: baseStyleList(props),\n  selectedList: baseStyleSelectedList,\n  item: baseStyleItem(props),\n  selectedItem: baseStyleSelectedItem(props),\n  button: baseStyleButton(props),\n  actionGroup: baseStyleActionGroup,\n  control: baseStyleControl,\n  input: baseStyleInput(props),\n  groupTitle: baseStyleGroupTitle,\n  divider: baseStyleDivider,\n  label: baseStyleLabel,\n})\n\nexport const sizes = {\n  sm: {\n    control: {\n      minH: 8,\n      px: 1,\n      spacing: 1,\n    },\n    input: {\n      m: 'px',\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    item: {\n      py: 1,\n      px: 2,\n    },\n    textList: {\n      py: 0,\n      px: 1,\n    },\n    selectedItem: {\n      m: 'px',\n    },\n    selectedList: {\n      py: 'px',\n    },\n    groupTitle: {\n      mx: 2,\n      my: 1,\n      fontSize: 'sm',\n    },\n  },\n  md: {\n    control: {\n      minH: 10,\n      px: 1,\n      spacing: 1,\n    },\n    input: {\n      m: '2px',\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    item: {\n      py: 2,\n      px: 3,\n    },\n    textList: {\n      p: 1,\n    },\n    selectedItem: {\n      m: '2px',\n    },\n    selectedList: {\n      py: '2px',\n    },\n    groupTitle: {\n      mx: 4,\n      my: 2,\n      fontSize: 'sm',\n    },\n  },\n  lg: {\n    control: {\n      minH: 12,\n      px: 2,\n      spacing: 2,\n    },\n    input: {\n      m: 1,\n    },\n    actionGroup: {\n      spacing: '0',\n    },\n    item: {\n      py: 2,\n      px: 3,\n    },\n    textList: {\n      py: 1,\n      px: 2,\n    },\n    selectedItem: {\n      m: 1,\n    },\n    selectedList: {\n      py: 1,\n    },\n    groupTitle: {\n      mx: 4,\n      my: 2,\n      fontSize: 'sm',\n    },\n  },\n}\n\nexport default {\n  defaultProps: {\n    size: 'md',\n  },\n  parts,\n  sizes,\n  baseStyle,\n}\n","import { isFunction } from \"@chakra-ui/utils\";\n\n/**\n * Assigns a value to a ref function or object\n *\n * @param ref the ref to assign to\n * @param value the value\n */\nexport function assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (isFunction(ref)) {\n    ref(value);\n    return;\n  }\n\n  try {\n    // @ts-ignore\n    ref.current = value;\n  } catch (error) {\n    throw new Error(\"Cannot assign value '\" + value + \"' to ref '\" + ref + \"'\");\n  }\n}\n/**\n * Combine multiple React refs into a single ref function.\n * This is used mostly when you need to allow consumers forward refs to\n * internal components\n *\n * @param refs refs to assign to value to\n */\n\nexport function mergeRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return node => {\n    refs.forEach(ref => assignRef(ref, node));\n  };\n}\n//# sourceMappingURL=refs.js.map","// Number assertions\nexport function isNumber(value) {\n  return typeof value === \"number\";\n}\nexport function isNotNumber(value) {\n  return typeof value !== \"number\" || Number.isNaN(value) || !Number.isFinite(value);\n}\nexport function isNumeric(value) {\n  return value != null && value - parseFloat(value) + 1 >= 0;\n} // Array assertions\n\nexport function isArray(value) {\n  return Array.isArray(value);\n}\nexport function isEmptyArray(value) {\n  return isArray(value) && value.length === 0;\n} // Function assertions\n\nexport function isFunction(value) {\n  return typeof value === \"function\";\n} // Generic assertions\n\nexport function isDefined(value) {\n  return typeof value !== \"undefined\" && value !== undefined;\n}\nexport function isUndefined(value) {\n  return typeof value === \"undefined\" || value === undefined;\n} // Object assertions\n\nexport function isObject(value) {\n  var type = typeof value;\n  return value != null && (type === \"object\" || type === \"function\") && !isArray(value);\n}\nexport function isEmptyObject(value) {\n  return isObject(value) && Object.keys(value).length === 0;\n}\nexport function isNotEmptyObject(value) {\n  return value && !isEmptyObject(value);\n}\nexport function isNull(value) {\n  return value == null;\n} // String assertions\n\nexport function isString(value) {\n  return Object.prototype.toString.call(value) === \"[object String]\";\n}\nexport function isCssVar(value) {\n  return /^var\\(--.+\\)$/.test(value);\n} // Empty assertions\n\nexport function isEmpty(value) {\n  if (isArray(value)) return isEmptyArray(value);\n  if (isObject(value)) return isEmptyObject(value);\n  if (value == null || value === \"\") return true;\n  return false;\n}\nexport var __DEV__ = process.env.NODE_ENV !== \"production\";\nexport var __TEST__ = process.env.NODE_ENV === \"test\";\nexport function isRefObject(val) {\n  return \"current\" in val;\n}\nexport function isInputEvent(value) {\n  return value && isObject(value) && isObject(value.target);\n}\n//# sourceMappingURL=assertion.js.map","import * as React from \"react\";\n\n/**\n * Creates a named context, provider, and hook.\n *\n * @param options create context options\n */\nexport function createContext(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var {\n    strict = true,\n    errorMessage = \"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider\",\n    name\n  } = options;\n  var Context = /*#__PURE__*/React.createContext(undefined);\n  Context.displayName = name;\n\n  function useContext() {\n    var context = React.useContext(Context);\n\n    if (!context && strict) {\n      var error = new Error(errorMessage);\n      error.name = \"ContextError\";\n      Error.captureStackTrace == null ? void 0 : Error.captureStackTrace(error, useContext);\n      throw error;\n    }\n\n    return context;\n  }\n\n  return [Context.Provider, useContext, Context];\n}\n//# sourceMappingURL=context.js.map","function t(t){return\"object\"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||\"hidden\"!==t)&&\"visible\"!==t&&\"clip\"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}export default function(e,i){var o=window,l=i.scrollMode,d=i.block,u=i.inline,h=i.boundary,a=i.skipOverflowHiddenElements,c=\"function\"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError(\"Invalid target\");for(var f=document.scrollingElement||document.documentElement,s=[],p=e;t(p)&&c(p);){if((p=p.parentElement)===f){s.push(p);break}null!=p&&p===document.body&&n(p)&&!n(document.documentElement)||null!=p&&n(p,a)&&s.push(p)}for(var m=o.visualViewport?o.visualViewport.width:innerWidth,g=o.visualViewport?o.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,W=e.getBoundingClientRect(),b=W.height,H=W.width,y=W.top,E=W.right,M=W.bottom,V=W.left,x=\"start\"===d||\"nearest\"===d?y:\"end\"===d?M:y+b/2,I=\"center\"===u?V+H/2:\"end\"===u?E:V,C=[],T=0;T<s.length;T++){var k=s[T],B=k.getBoundingClientRect(),D=B.height,O=B.width,R=B.top,X=B.right,Y=B.bottom,L=B.left;if(\"if-needed\"===l&&y>=0&&V>=0&&M<=g&&E<=m&&y>=R&&M<=Y&&V>=L&&E<=X)return C;var S=getComputedStyle(k),j=parseInt(S.borderLeftWidth,10),q=parseInt(S.borderTopWidth,10),z=parseInt(S.borderRightWidth,10),A=parseInt(S.borderBottomWidth,10),F=0,G=0,J=\"offsetWidth\"in k?k.offsetWidth-k.clientWidth-j-z:0,K=\"offsetHeight\"in k?k.offsetHeight-k.clientHeight-q-A:0;if(f===k)F=\"start\"===d?x:\"end\"===d?x-g:\"nearest\"===d?r(v,v+g,g,q,A,v+x,v+x+b,b):x-g/2,G=\"start\"===u?I:\"center\"===u?I-m/2:\"end\"===u?I-m:r(w,w+m,m,j,z,w+I,w+I+H,H),F=Math.max(0,F+v),G=Math.max(0,G+w);else{F=\"start\"===d?x-R-q:\"end\"===d?x-Y+A+K:\"nearest\"===d?r(R,Y,D,q,A+K,x,x+b,b):x-(R+D/2)+K/2,G=\"start\"===u?I-L-j:\"center\"===u?I-(L+O/2)+J/2:\"end\"===u?I-X+z+J:r(L,X,O,j,z+J,I,I+H,H);var N=k.scrollLeft,P=k.scrollTop;x+=P-(F=Math.max(0,Math.min(P+F,k.scrollHeight-D+K))),I+=N-(G=Math.max(0,Math.min(N+G,k.scrollWidth-O+J)))}C.push({el:k,top:F,left:G})}return C}\n//# sourceMappingURL=index.module.js.map\n","import {\n  usePopper,\n  UsePopperProps,\n  UsePopperReturn,\n  useStyles,\n} from '@chakra-ui/react'\nimport { EventKeys } from '@chakra-ui/utils'\nimport { createContext, mergeRefs } from '@chakra-ui/react-utils'\nimport {\n  useEffect,\n  useRef,\n  useState,\n  useCallback,\n  useMemo,\n  MutableRefObject,\n} from 'react'\nimport computeScrollIntoView from 'compute-scroll-into-view'\n\nexport interface Option {\n  label: string\n  value: string | number\n}\n\nexport interface SelectState {\n  searchValue: string\n  resolvedSearchValue: string\n  isOpen: boolean\n  highlightedIndex: number\n}\n\ntype AnyFunc = (...args: any[]) => any\n\nexport interface KeyMeta {\n  key?: EventKeys\n  keyCode?: EventKeys\n  shift?: boolean\n  meta?: boolean\n}\n\nexport type KeyboardEventHandler = (e: KeyboardEvent) => void\n\nexport type KeyHandler = () => void\n\nexport type ScrollToIndex = (\n  index: number,\n  ref: MutableRefObject<HTMLElement | undefined>,\n  optionsRef: MutableRefObject<HTMLElement | undefined>,\n  enabledRef: MutableRefObject<boolean>\n) => void\n\nexport type GetDebounce = (options: Option[]) => number\n\nexport enum ChangeActions {\n  SingleCreate = 'singleCreate', // eslint-disable-line\n  SingleRemove = 'singleRemove', // eslint-disable-line\n  SingleSelect = 'singleSelect', // eslint-disable-line\n  SingleClear = 'singleClear', // eslint-disable-line\n  MultiCreate = 'multiCreate', // eslint-disable-line\n  MultiRemove = 'multiRemove', // eslint-disable-line\n  MultiSelect = 'multiSelect', // eslint-disable-line\n  MultiClear = 'multiClear', // eslint-disable-line\n}\n\nexport type SelectOnChange = (\n  value: string | number | Array<string | number>,\n  change?: {\n    action: ChangeActions\n    value: any\n  }\n) => void\n\nexport type GetOption = (option: string | { label: string; value: any }) => {\n  label: string\n  value: any\n}\n\nexport type SelectFilter = (\n  options: Option[],\n  searchValue: string | number,\n  getOption: GetOption\n) => Option[]\n\nexport type SelectRemoveValue = (index: number) => void\n\nexport type SelectSetOpen = (open: boolean) => void\n\nexport type SelectSetSearch = (searchValue: string) => void\n\nexport enum SelectActions {\n  SetOpen = 'setOpen', // eslint-disable-line\n  SetSearch = 'setSearch', // eslint-disable-line\n  HighlightIndex = 'highlightIndex', // eslint-disable-line\n}\n\nexport type SelectStateUpdater = (\n  updater: (old: SelectState) => SelectState,\n  action: SelectActions\n) => void\n\nexport type StateReducer = (\n  old: SelectState,\n  newState: SelectState,\n  action: SelectActions\n) => SelectState\n\nconst defaultMultiValue: any[] = []\nconst defaultOptions: Option[] = []\n\nconst initialState: SelectState = {\n  searchValue: '',\n  resolvedSearchValue: '',\n  isOpen: false,\n  highlightedIndex: 0,\n}\n\nfunction scrollIntoView(node: any, optionsNode: any) {\n  if (!node || !optionsNode) {\n    return\n  }\n  const actions = computeScrollIntoView(node, {\n    boundary: optionsNode,\n    block: 'nearest',\n    scrollMode: 'if-needed',\n  })\n  actions.forEach(({ el, top, left }) => {\n    el.scrollTop = top\n    el.scrollLeft = left\n  })\n}\nconst defaultStateReducer: StateReducer = (_, newState) => newState\nconst defaultScrollToIndex: ScrollToIndex = (\n  _,\n  inputRef,\n  optionsRef,\n  enabledRef\n) => {\n  if (enabledRef.current) {\n    scrollIntoView(inputRef.current, optionsRef.current)\n  }\n}\nexport const labelFromValue = (value: string): string =>\n  `${value.charAt(0).toUpperCase()}${value.substring(1)}`\nexport const idFromOption = (option: Option, prefix = ''): string =>\n  `${prefix}${option?.value}`\nconst defaultGetOption: GetOption = (option) =>\n  typeof option === 'string'\n    ? { value: option, label: labelFromValue(option) }\n    : option\nconst defaultGetDebounce: GetDebounce = (options) =>\n  options.length > 10000 ? 1000 : options.length > 1000 ? 200 : 0\n\nconst defaultFilterFn: SelectFilter = (options, searchValue, getOption) => {\n  return options\n    .filter((option) =>\n      getOption(option)\n        .value.toString()\n        .toLowerCase()\n        .includes(searchValue.toString().toLowerCase())\n    )\n    .sort((a) => {\n      return getOption(a)\n        .value.toString()\n        .toLowerCase()\n        .indexOf(searchValue.toString().toLowerCase())\n    })\n}\n\nfunction useDebounce(fn: AnyFunc, time = 0) {\n  const ref = useRef(null)\n  const fnRef = useRef()\n\n  fnRef.current = fn as any\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(ref.current as unknown as number)\n    }\n  }, [time])\n\n  return useCallback(\n    async (...args) => {\n      if (ref.current) {\n        clearTimeout(ref.current as unknown as number)\n      }\n      return new Promise((resolve, reject) => {\n        ref.current = setTimeout(() => {\n          ref.current = null\n          try {\n            resolve((fnRef.current as unknown as AnyFunc)(...args))\n          } catch (err) {\n            reject(err)\n          }\n        }, time) as any\n      })\n    },\n    [time]\n  )\n}\n\nfunction updateReducerState(state: any, newValue: any, key?: string): any {\n  if (!key) {\n    if (typeof newValue === 'function') {\n      return newValue(state)\n    }\n    return newValue\n  }\n  if (typeof newValue === 'function') {\n    const next = {\n      ...state,\n      [key]: newValue(state[key]),\n    }\n    return next\n  }\n  return {\n    ...state,\n    [key]: newValue,\n  }\n}\nfunction useHoistedState(\n  initialState: SelectState,\n  reducer: StateReducer\n): [SelectState, SelectStateUpdater] {\n  const reducerRef = useRef()\n  ;(reducerRef.current as any) = reducer\n  const [state, _setState] = useState(initialState)\n  const setState = useCallback(\n    (updater, action) => {\n      if (!action) {\n        throw new Error('An action type is required to update the state')\n      }\n      return _setState((old: SelectState) =>\n        (reducerRef.current as unknown as StateReducer)(\n          old,\n          updater(old),\n          action\n        )\n      )\n    },\n    [_setState]\n  )\n  return [state, setState]\n}\n\nconst useKeys = (\n  userKeys: {\n    [K in EventKeys]: (opts: { shift: any; meta: any }, e?: any) => K | any\n  }\n) => {\n  return ({ onKeyDown, ...rest } = {} as any) => {\n    return {\n      ...rest,\n      onKeyDown: (e: KeyboardEvent) => {\n        const { keyCode, key, shiftKey: shift, metaKey: meta } = e\n        const handler = userKeys[key] || userKeys[keyCode]\n        if (handler) {\n          handler(\n            {\n              keyCode,\n              key,\n              shift,\n              meta,\n            },\n            e\n          )\n        }\n        if (onKeyDown) {\n          onKeyDown(e)\n        }\n      },\n    }\n  }\n}\n\nexport enum SelectionVisibilityMode {\n  List = 'list',\n  Input = 'input',\n  Both = 'both',\n}\nexport interface UseMultiSelectProps {\n  value?: string | string[]\n  options: Option[]\n  onChange?: SelectOnChange\n  getOption?: GetOption\n}\nexport interface UseMultiSelectReturn {\n  value?: string | string[]\n  options: Option[]\n  onChange?: SelectOnChange\n}\nexport interface UseSelectProps extends UsePopperProps {\n  onChange: SelectOnChange\n  single?: boolean\n  create?: boolean\n  selectionVisibleIn?: SelectionVisibilityMode\n  duplicates?: boolean\n  options?: Option[]\n  value?: any\n  shiftAmount?: number\n  getOption?: GetOption\n  getDebounce?: GetDebounce\n  stateReducer?: StateReducer\n  scrollToIndex?: ScrollToIndex\n  filterFn?: SelectFilter\n}\nexport interface UseSelectReturn {\n  value: any\n  multi: boolean\n  searchValue: string\n  isOpen: boolean\n  selectedOption: Option\n  visibleOptions: Option[]\n  selectionVisibleIn: SelectionVisibilityMode\n  selectIndex: (index: number) => any\n  highlightIndex: (value: any) => any\n  highlightedValueRef: MutableRefObject<HTMLElement | undefined>\n  highlightedIndexRef: MutableRefObject<number>\n  enableScrollRef: MutableRefObject<boolean>\n  removeValue: SelectRemoveValue\n  setOpen: SelectSetOpen\n  setSearch: SelectSetSearch\n  popper: UsePopperReturn\n  getInputProps: AnyFunc\n  getOptionProps: AnyFunc\n  getOption: GetOption\n  optionsRef: MutableRefObject<any>\n  controlRef: MutableRefObject<any>\n  clearAll: () => void\n  clearable: boolean\n}\n\nconst [SelectProvider, useSelectContext] = createContext<UseSelectReturn>({\n  strict: false,\n  name: 'SelectContext',\n})\nconst [SelectInputProvider, useSelectInputContext] = createContext<\n  Pick<UseSelectReturn, 'getInputProps'>\n>({\n  strict: false,\n  name: 'SelectInputContext',\n})\nconst [SelectedProvider, useSelectedContext] = createContext<\n  Pick<UseSelectReturn, 'removeValue'>\n>({\n  strict: false,\n  name: 'SelectedContext',\n})\nconst [SelectedListProvider, useSelectedListContext] = createContext<\n  Pick<UseSelectReturn, 'value' | 'multi' | 'selectionVisibleIn'>\n>({\n  strict: false,\n  name: 'SelectedListContext',\n})\nconst [SelectActionProvider, useSelectActionContext] = createContext<\n  Pick<UseSelectReturn, 'isOpen' | 'setOpen' | 'clearable' | 'clearAll'>\n>({\n  strict: false,\n  name: 'SelectActionContext',\n})\n\nexport {\n  SelectProvider,\n  SelectInputProvider,\n  SelectedProvider,\n  SelectedListProvider,\n  SelectActionProvider,\n  useSelectContext,\n  useSelectedContext,\n  useSelectedListContext,\n  useSelectInputContext,\n  useSelectActionContext,\n}\n\nexport function useSelect({\n  create = false,\n  single = false,\n  selectionVisibleIn = SelectionVisibilityMode.Input,\n  getDebounce = defaultGetDebounce,\n  getOption = defaultGetOption,\n  stateReducer = defaultStateReducer,\n  filterFn = defaultFilterFn,\n  scrollToIndex = defaultScrollToIndex,\n  shiftAmount = 5,\n  duplicates,\n  options,\n  value,\n  onChange,\n  placement = 'bottom-start',\n}: UseSelectProps): UseSelectReturn {\n  const [\n    { searchValue, resolvedSearchValue, isOpen, highlightedIndex },\n    setState,\n  ] = useHoistedState(initialState, stateReducer)\n\n  const multi = !single\n\n  // Refs\n\n  const optionsRef = useRef()\n  const optionsItemsRef = useRef<Option[]>([])\n  const valueRef = useRef<string | Array<string>>('')\n  const inputRef = useRef()\n  const controlRef = useRef()\n  const onBlurRef = useRef({})\n  const onChangeRef = useRef()\n  const filterFnRef = useRef()\n  const scrollToIndexRef = useRef()\n  const highlightedIndexRef = useRef<number>(highlightedIndex)\n  const highlightedValueRef = useRef<HTMLElement | undefined>()\n  const enableScrollRef = useRef(false)\n\n  const popper = usePopper({\n    placement,\n  })\n\n  highlightedIndexRef.current = highlightedIndex\n  ;(filterFnRef.current as any) = filterFn\n  ;(scrollToIndexRef.current as any) = scrollToIndex\n  ;(onChangeRef.current as any) = onChange\n\n  // Multi should always at least have an empty array as the value\n  if (multi && typeof value === 'undefined') {\n    value = defaultMultiValue\n  }\n\n  // If no options are provided, then use an empty array\n  if (!options) {\n    options = defaultOptions\n  }\n\n  const originalOptions = options\n\n  // If multi and duplicates aren't allowed, filter out the\n  // selected options from the options list\n  options = useMemo(() => {\n    // if selectionVisibleIn list || both set a selected value and don't filter\n    if (selectionVisibleIn !== SelectionVisibilityMode.Input) {\n      return options?.map((d) => ({\n        ...getOption(d),\n        selected: (Array.isArray(value) ? value : [value || ''])?.some(\n          (v: any) => getOption(v).value === getOption(d).value\n        ),\n      }))\n    }\n\n    // otherwise\n    if (multi && !duplicates) {\n      return options?.filter(\n        (d) =>\n          !value?.some((v: any) => getOption(v).value === getOption(d).value)\n      )\n    }\n    return options\n  }, [options, value, duplicates, multi, getOption, selectionVisibleIn])\n\n  // Compute the currently selected option(s)\n  const selectedOption = useMemo(() => {\n    if (!multi) {\n      return (\n        originalOptions.find(\n          (d) => getOption(d).value === getOption(value).value\n        ) || getOption(value)\n      )\n    } else {\n      return value.map(\n        (val: any) =>\n          originalOptions.find(\n            (d) => getOption(d).value === getOption(val).value\n          ) || getOption(val)\n      )\n    }\n  }, [multi, value, originalOptions, getOption])\n\n  // If there is a search value, filter the options for that value\n  // This needs to be reworked to handle async loading\n  options = useMemo(() => {\n    if (resolvedSearchValue) {\n      return (filterFnRef.current as any)?.(\n        options,\n        resolvedSearchValue,\n        getOption\n      )\n    }\n    return options\n  }, [options, resolvedSearchValue, getOption])\n\n  // If in create mode and we have a search value, fabricate\n  // an option for that searchValue and prepend it to options\n  options = useMemo(() => {\n    if (create && searchValue) {\n      return [{ created: true, ...getOption(searchValue) }, ...options!]\n    }\n    return options\n  }, [create, searchValue, options, getOption])\n\n  valueRef.current = value\n  optionsItemsRef.current = options as Option[]\n\n  // Actions\n\n  const setOpen = useCallback((newIsOpen) => {\n    setState(\n      (old) => updateReducerState(old, newIsOpen, 'isOpen'),\n      SelectActions.SetOpen\n    )\n  }, [])\n\n  const Close = useCallback(() => {\n    setOpen(false)\n  }, [])\n\n  const Open = useCallback(() => {\n    setOpen(true)\n  }, [])\n\n  const setResolvedSearch = useDebounce((value) => {\n    setState(\n      (old) => updateReducerState(old, value, 'resolvedSearchValue'),\n      SelectActions.SetSearch\n    )\n  }, getDebounce(options!))\n\n  const setSearch = useCallback((value) => {\n    setState(\n      (old) => updateReducerState(old, value, 'searchValue'),\n      SelectActions.SetSearch\n    )\n    setResolvedSearch(value)\n  }, [])\n\n  const highlightIndex = useCallback((value) => {\n    const _options = optionsItemsRef.current\n    setState((old) => {\n      return {\n        ...old,\n        highlightedIndex: Math.min(\n          Math.max(\n            0,\n            typeof value === 'function' ? value(old.highlightedIndex) : value\n          ),\n          _options.length - 1\n        ),\n      }\n    }, SelectActions.HighlightIndex)\n  }, [])\n\n  const selectIndex = useCallback(\n    (index) => {\n      const option = optionsItemsRef.current![index]\n      if (option) {\n        const selectedOption = getOption(option) as any\n\n        if (!multi) {\n          ;(onChangeRef.current as any)?.(selectedOption.value, {\n            action: selectedOption.created\n              ? ChangeActions.SingleCreate\n              : ChangeActions.SingleSelect,\n            value: selectedOption,\n          })\n        } else {\n          const _value = valueRef.current as Array<string>\n          if (\n            duplicates ||\n            !_value.some(\n              (v: any) => getOption(v).value === selectedOption.value\n            )\n          ) {\n            ;(onChangeRef.current as any)?.([..._value, selectedOption.value], {\n              action: selectedOption.created\n                ? ChangeActions.MultiCreate\n                : ChangeActions.MultiSelect,\n              value: selectedOption,\n            })\n          }\n        }\n      }\n\n      if (create || multi) {\n        setSearch('')\n      }\n      if (!multi) {\n        Close()\n      }\n    },\n    [multi, create, duplicates, getOption]\n  )\n\n  const clearAll = useCallback(() => {\n    ;(onChangeRef.current as any)?.(multi ? [] : '', {\n      action: multi ? ChangeActions.MultiClear : ChangeActions.SingleClear,\n      value: '',\n    })\n  }, [multi])\n\n  const removeValue = useCallback(\n    (v: number | string) => {\n      const isIndex = typeof v === 'number'\n      const _multi = Array.isArray(valueRef.current)\n      const _value = (\n        _multi ? valueRef.current : [valueRef.current]\n      ) as Array<string>\n      const _next = _value.filter((_v: string, i: number) =>\n        isIndex ? i !== v : v !== _v\n      )\n      if (_multi) {\n        ;(onChangeRef.current as any)(_next, {\n          action: ChangeActions.MultiRemove,\n          value: getOption(isIndex ? _value[v] : v),\n        })\n      } else {\n        ;(onChangeRef.current as any)(_next[0] || '', {\n          action: ChangeActions.SingleRemove,\n          value: getOption(isIndex ? _value[v] : v),\n        })\n      }\n    },\n    [getOption]\n  )\n\n  // Handlers\n\n  const handleSearchValueChange = useCallback((e: any) => {\n    setSearch(e.target.value)\n    Open()\n  }, [])\n\n  const handleSearchClick = useCallback(() => {\n    if (!create || multi) {\n      setSearch('')\n    }\n    Open()\n  }, [create, multi])\n\n  // Prop Getters\n\n  const ArrowUp =\n    (defaultShift?: any, defaultMeta?: any) =>\n    ({ shift, meta }: any, e: any) => {\n      e.preventDefault()\n      const amount =\n        defaultMeta || meta\n          ? 1000000000000\n          : defaultShift || shift\n          ? shiftAmount - 1\n          : 1\n      Open()\n      enableScrollRef.current = true\n      highlightIndex((old: number) => old - amount)\n    }\n\n  const ArrowDown =\n    (defaultShift?: any, defaultMeta?: any) =>\n    ({ shift, meta }: any, e: any) => {\n      e.preventDefault()\n      const amount =\n        defaultMeta || meta\n          ? 1000000000000\n          : defaultShift || shift\n          ? shiftAmount - 1\n          : 1\n      Open()\n      enableScrollRef.current = true\n      highlightIndex((old: number) => old + amount)\n    }\n\n  const Enter = useCallback(\n    (_: any, e: any) => {\n      if (isOpen) {\n        const _options = optionsItemsRef.current\n        if (searchValue || _options![highlightedIndexRef!.current as number]) {\n          e.preventDefault()\n        }\n        if (_options![highlightedIndexRef!.current as number]) {\n          selectIndex(highlightedIndexRef!.current as number)\n        }\n      }\n    },\n    [isOpen, searchValue]\n  )\n\n  const Backspace = useCallback(() => {\n    const _value = valueRef.current\n    const lastValue = multi ? _value[_value.length - 1] : _value\n    if ((multi && !searchValue) || (!multi && lastValue)) {\n      removeValue(lastValue as string)\n      setSearch('')\n    }\n  }, [searchValue, multi])\n\n  const getKeyProps = useKeys({\n    ArrowUp: ArrowUp(),\n    ArrowDown: ArrowDown(),\n    PageUp: ArrowUp(true),\n    PageDown: ArrowDown(true),\n    Home: ArrowUp(false, true),\n    End: ArrowDown(false, true),\n    Escape: Close,\n    Tab: Close,\n    Enter,\n    Backspace,\n  } as any)\n\n  const getInputProps = useCallback(\n    (\n      {\n        refKey = 'ref',\n        ref,\n        onChange,\n        onFocus,\n        onClick,\n        onBlur,\n        ...rest\n      } = {} as any\n    ) => {\n      return getKeyProps({\n        [refKey]: (el: HTMLElement) => {\n          ;(inputRef.current as any) = el\n          if (ref) {\n            ref.current = el\n          }\n        },\n        value:\n          (isOpen\n            ? searchValue || selectedOption.label\n            : selectedOption\n            ? selectedOption?.label\n            : '') || '',\n        onChange: (e: any) => {\n          handleSearchValueChange(e)\n          if (onChange) {\n            onChange(e)\n          }\n        },\n        onFocus: (e: any) => {\n          handleSearchClick()\n          if (onFocus) {\n            onFocus(e)\n          }\n        },\n        onClick: (e: any) => {\n          handleSearchClick()\n          if (onClick) {\n            onClick(e)\n          }\n        },\n        onBlur: (e: any) => {\n          if (onBlur) {\n            e.persist()\n            ;(onBlurRef.current as any).cb = onBlur\n            ;(onBlurRef.current as any).event = e\n          }\n        },\n        ...rest,\n      })\n    },\n    [\n      isOpen,\n      searchValue,\n      selectedOption,\n      handleSearchClick,\n      handleSearchValueChange,\n    ]\n  )\n\n  const getOptionProps = useCallback(\n    (\n      { index, key = index, onClick, onMouseEnter, option, ...rest } = {} as any\n    ) => {\n      if (typeof index !== 'number' || index < 0) {\n        throw new Error(\n          `useSelect: The getOptionProps prop getter requires an index property, eg. 'getOptionProps({index: 1})'`\n        )\n      }\n\n      return {\n        key,\n        option,\n        ...rest,\n        onClick: (e: any) => {\n          if (option.selected !== undefined && option.selected) {\n            removeValue(option.value)\n          } else {\n            selectIndex(index)\n          }\n          if (onClick) {\n            onClick(e)\n          }\n        },\n        onMouseEnter: (e: any) => {\n          enableScrollRef.current = false\n          highlightIndex(index)\n          if (onMouseEnter) {\n            onMouseEnter(e)\n          }\n        },\n      }\n    },\n    []\n  )\n\n  // Effects\n\n  // When the user clicks outside of the options box or input\n  // while open, we need to close the dropdown\n  useClickOutsideRef(isOpen, Close, optionsRef!, controlRef!)\n\n  // When searching, activate the first option\n  useEffect(() => {\n    if (searchValue) {\n      highlightIndex(0)\n    }\n  }, [searchValue, highlightIndex])\n\n  // When we open and close the options, set the highlightedIndex to 0\n  useEffect(() => {\n    highlightIndex(0)\n\n    if (!isOpen && (onBlurRef.current as any)?.event) {\n      ;(onBlurRef.current as any)?.cb((onBlurRef.current as any).event)\n      ;(onBlurRef.current as any).event = null\n    }\n  }, [isOpen])\n\n  // When the highlightedIndex changes, scroll to that item\n  useEffect(() => {\n    ;(scrollToIndexRef.current as any)?.(\n      highlightedIndex,\n      highlightedValueRef,\n      optionsRef,\n      enableScrollRef\n    )\n  }, [highlightedIndex])\n\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => {\n        ;(inputRef.current as any)?.focus()\n      })\n    }\n  }, [isOpen])\n\n  return {\n    multi,\n    clearable: multi && !!(Array.isArray(value) ? value.length > 0 : !!value),\n    clearAll,\n    optionsRef,\n    controlRef,\n    popper,\n    // State\n    value,\n    searchValue,\n    isOpen,\n    highlightedIndexRef,\n    highlightedValueRef,\n    enableScrollRef,\n    selectedOption,\n    visibleOptions: options!,\n    selectionVisibleIn,\n    // Actions\n    selectIndex,\n    removeValue,\n    setOpen,\n    setSearch,\n    highlightIndex,\n    // Prop Getters\n    getInputProps,\n    getOptionProps,\n    getOption,\n  }\n}\n\nfunction useClickOutsideRef(\n  enable: boolean,\n  fn: AnyFunc,\n  dropdownRef: MutableRefObject<any>,\n  controlRef: MutableRefObject<any>\n) {\n  const localDropdownRef = useRef()\n  const localControlRef = useRef()\n  const fnRef = useRef()\n\n  ;(fnRef.current as any) = fn\n  const elDropdownRef =\n    dropdownRef ||\n    (localDropdownRef as unknown as MutableRefObject<HTMLElement>)\n  const elControlRef =\n    controlRef || (localControlRef as unknown as MutableRefObject<HTMLElement>)\n\n  const handle = useCallback((e) => {\n    const isTouch = e.type === 'touchstart'\n    if (e.type === 'click' && isTouch) {\n      return\n    }\n\n    const elControl = elControlRef.current as HTMLElement\n    const elDropdown = elDropdownRef.current as HTMLElement\n    if (!(elControl?.contains(e.target) || elDropdown?.contains(e.target))) {\n      ;(fnRef.current as any)(e)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (enable) {\n      document.addEventListener('touchstart', handle, true)\n      document.addEventListener('click', handle, true)\n    }\n\n    return () => {\n      document.removeEventListener('touchstart', handle, true)\n      document.removeEventListener('click', handle, true)\n    }\n  }, [enable, handle])\n}\n\nexport function useSelectActionGroup(props: any = {}) {\n  const { clearAll, clearable } = useSelectActionContext()\n  const styles = useStyles()\n\n  const clearOnClick = useCallback((e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    clearAll()\n  }, [])\n\n  return {\n    ...props,\n    clearOnClick,\n    clearable,\n    __css: styles.actionGroup,\n  }\n}\n\nexport function useSelectInput(props: any = {}) {\n  const { getInputProps } = useSelectInputContext()\n  const styles = useStyles()\n\n  return {\n    ...props,\n    ...getInputProps(),\n    __css: styles.input,\n  }\n}\nexport function useSelectLabel(props: any = {}) {\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: styles.label,\n  }\n}\n\nexport function useSelectButton(props: any = {}) {\n  const { isOpen, setOpen } = useSelectActionContext()\n  const onClick = useCallback(\n    (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      ;(setOpen as any)((o: any) => !o)\n    },\n    [setOpen]\n  )\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: {\n      ...styles.button,\n      ...(isOpen && (styles.button as any))?._active,\n    },\n    isOpen,\n    onClick,\n  }\n}\n\nexport function useClearButton(props: any = {}) {\n  const styles = useStyles()\n\n  return {\n    ...props,\n    __css: {\n      ...styles.button,\n    },\n  }\n}\n\nexport function useSelectedItem(props: any = {}) {\n  const { removeValue } = useSelectedContext()\n  const styles = useStyles()\n\n  const onClick = useCallback(() => removeValue(props.value), [props.value])\n\n  return useMemo(\n    () => ({\n      key: props.key || props.value,\n      onClick,\n      __css: styles.selectedItem,\n    }),\n    [props.value, props.key, onClick, styles.selectedItem]\n  )\n}\n\nexport function useSelectItem({ selected, ...props }: any = {}) {\n  const { getOptionProps, highlightedIndexRef, highlightedValueRef } =\n    useSelectContext()\n  const styles = useStyles()\n  const highlighted = highlightedIndexRef.current === props.index\n\n  return useMemo(() => {\n    const option = {\n      value: props.value,\n      label: props.label || labelFromValue(props.value),\n      selected,\n    }\n    return {\n      ...getOptionProps!({\n        option,\n        key: props.key || idFromOption(option),\n        index: props.index,\n      }),\n      highlightedRef: highlighted ? highlightedValueRef : undefined,\n      __css: {\n        ...styles.item,\n        ...(selected && (styles.item as any))?._selected,\n        ...(highlighted && (styles.item as any))?._active,\n      },\n    }\n  }, [\n    highlighted,\n    selected,\n    props.key,\n    props.label,\n    props.value,\n    props.index,\n    styles.item,\n  ])\n}\n\nexport function useSelectList() {\n  const { isOpen, getOption, optionsRef, popper, visibleOptions } =\n    useSelectContext()\n  const styles = useStyles()\n\n  return useMemo(\n    () => ({\n      ref: mergeRefs(optionsRef, popper.popperRef),\n      isOpen,\n      visibleOptions,\n      getOption,\n      __css: styles.list,\n    }),\n    [isOpen, visibleOptions, styles.list]\n  )\n}\n\nexport function useSelectedList(props: any = {}) {\n  const {\n    value: selectedItems,\n    multi,\n    selectionVisibleIn,\n  } = useSelectedListContext()\n  const styles = useStyles()\n\n  return {\n    ...props,\n    multi,\n    selectedItems,\n    selectionVisibleIn,\n    __css: styles.selectedList,\n    textList: {\n      __css: styles.textList,\n    },\n  }\n}\n\nexport function useSelectControl(props: any = {}) {\n  const { isOpen, popper, controlRef } = useSelectContext()\n  const styles = useStyles()\n\n  return {\n    ...props,\n    ...useMemo(\n      () => ({\n        ref: mergeRefs(props.ref, controlRef, popper.referenceRef),\n      }),\n      [props.ref, controlRef, popper.referenceRef]\n    ),\n    isOpen,\n    __css: styles.control,\n  }\n}\n\nexport function useMultiSelect(\n  props: UseMultiSelectProps = {} as UseMultiSelectProps\n): UseMultiSelectReturn {\n  const getOption = props.getOption || defaultGetOption\n  const [value, setValue] = useState(props.value)\n  const [options, setOptions] = useState<Option[]>(() =>\n    props.options.map(getOption)\n  )\n  const onChange = useCallback<SelectOnChange>(\n    (next, change) => {\n      switch (change?.action) {\n        case ChangeActions.SingleCreate:\n          setValue(next as string)\n          setOptions((o) => {\n            const opt = getOption(next as any)\n            return o.some((_o) => getOption(_o).value === opt.value)\n              ? o\n              : [{ ...opt, created: true }, ...o]\n          })\n          break\n        case ChangeActions.SingleClear:\n        case ChangeActions.SingleRemove:\n          setValue(next as string)\n          break\n        case ChangeActions.SingleSelect:\n          setValue(next as string)\n          break\n        case ChangeActions.MultiCreate:\n          const nextValue = next as string[]\n          const created = next[nextValue.length - 1]\n          setValue(nextValue)\n          setOptions((o) => {\n            const opt = getOption(created as any)\n            return o.some((_o) => getOption(_o).value === opt.value)\n              ? o\n              : [{ ...opt, created: true }, ...o]\n          })\n          break\n        case ChangeActions.MultiClear:\n        case ChangeActions.MultiRemove:\n          setValue(next as string[])\n          break\n        case ChangeActions.MultiSelect:\n        default:\n          setValue(next as string[])\n      }\n    },\n    [setValue, setOptions, getOption]\n  )\n\n  return {\n    value,\n    options,\n    onChange,\n  }\n}\n","import {\n  HTMLChakraProps,\n  MenuOptionGroup,\n  MenuProps,\n  Input,\n  MenuListProps,\n  MenuOptionGroupProps,\n  Box,\n  IconButton,\n  chakra,\n  HStack,\n  omitThemingProps,\n  useMultiStyleConfig,\n  StylesProvider,\n  forwardRef,\n  Tag,\n  TagLabel,\n  TagCloseButton,\n  TagProps,\n  StackProps,\n  ButtonProps,\n  useStyles,\n} from '@chakra-ui/react'\nimport { memo, ReactNode, useCallback, useMemo } from 'react'\nimport {\n  SelectProvider,\n  useSelect,\n  useSelectButton,\n  useSelectActionGroup,\n  useSelectControl,\n  useSelectInput,\n  useSelectedItem,\n  useSelectItem,\n  useSelectLabel,\n  useSelectList,\n  useSelectedList,\n  UseSelectProps,\n  idFromOption,\n  labelFromValue,\n  SelectedProvider,\n  SelectInputProvider,\n  SelectedListProvider,\n  SelectActionProvider,\n  SelectionVisibilityMode,\n  useClearButton,\n} from './use-select'\n\n// @see https://github.com/chakra-ui/chakra-ui/issues/140\n\nexport interface SelectItem {\n  value: any\n  label?: string\n}\n\nexport interface SelectProps\n  extends Omit<\n      HTMLChakraProps<'select'>,\n      'value' | 'size' | 'onChange' | 'onSelect' | 'children'\n    >,\n    Omit<MenuProps, 'children'>,\n    UseSelectProps {\n  label?: string\n  children?: ReactNode\n}\n\nexport interface SelectControlProps\n  extends Omit<HTMLChakraProps<'select'>, 'size'>,\n    Omit<MenuProps, 'children'> {\n  defaultIsOpen?: boolean\n  isLazy?: true\n  closeOnSelect?: false\n  children?: ReactNode\n}\n\nexport type SelectListProps = MenuListProps\nexport type SelectOptionGroupProps = MenuOptionGroupProps\nexport interface SelectOptionItemProps extends HTMLChakraProps<'li'> {\n  highlighted?: boolean\n  label?: string\n  index: number\n  selected?: boolean\n  created?: boolean\n}\n\nexport interface SelectedItemProps extends TagProps, SelectItem {}\n\nexport interface MultiSelectProps extends Omit<SelectProps, 'children'> {\n  children?: ReactNode\n}\n\nexport const ChakraSvg = chakra('svg')\n\nexport const Select: React.FC<SelectProps> = (props) => {\n  const { children } = props\n\n  const styles = useMultiStyleConfig('MultiSelect', props)\n  const ownProps = omitThemingProps(props)\n\n  const ctx = useSelect(ownProps as any)\n  const context = useMemo(() => ctx, [ctx])\n  const selectInputContext = useMemo(\n    () => ({ getInputProps: ctx.getInputProps }),\n    [ctx.getInputProps]\n  )\n  const selectedContext = useMemo(\n    () => ({ removeValue: ctx.removeValue }),\n    [ctx.removeValue]\n  )\n  const selectedListContext = useMemo(\n    () => ({\n      value: ctx.value,\n      multi: ctx.multi,\n      selectionVisibleIn: ctx.selectionVisibleIn,\n    }),\n    [ctx.value, ctx.multi, ctx.selectionVisibleIn]\n  )\n  const selectActionContext = useMemo(\n    () => ({\n      isOpen: ctx.isOpen,\n      setOpen: ctx.setOpen,\n      clearable: ctx.clearable,\n      clearAll: ctx.clearAll,\n    }),\n    [ctx.isOpen, ctx.setOpen, ctx.clearable, ctx.clearAll]\n  )\n\n  return (\n    <StylesProvider value={styles}>\n      <SelectProvider value={context}>\n        <SelectInputProvider value={selectInputContext}>\n          <SelectedListProvider value={selectedListContext}>\n            <SelectedProvider value={selectedContext}>\n              <SelectActionProvider value={selectActionContext}>\n                <chakra.div pos='relative'>{children}</chakra.div>\n              </SelectActionProvider>\n            </SelectedProvider>\n          </SelectedListProvider>\n        </SelectInputProvider>\n      </SelectProvider>\n    </StylesProvider>\n  )\n}\n\nexport const SelectLabel = memo<HTMLChakraProps<'label'>>((props) => {\n  const labelProps = useSelectLabel()\n\n  return <chakra.label {...props} {...labelProps} />\n})\nSelectLabel.displayName = 'SelectLabel'\n\nexport const SelectOptionLabel = memo<\n  StackProps & { label: string; created?: boolean }\n>(({ label, created }) => (\n  <HStack justifyContent='space-between' w='full'>\n    <Box>{label}</Box>\n    {!!created && (\n      <Tag flexShrink={0}>\n        <TagLabel fontSize='xs' fontWeight='bold'>\n          New\n        </TagLabel>\n      </Tag>\n    )}\n  </HStack>\n))\nSelectOptionLabel.displayName = 'SelectOptionLabel'\n\nexport const SelectOptionItem = memo<SelectOptionItemProps>(\n  ({ value, label, index, selected, created, ...props }) => {\n    const { highlightedRef, option, ...itemProps } = useSelectItem({\n      value,\n      label,\n      index,\n      selected,\n    })\n\n    return (\n      <chakra.li\n        ref={highlightedRef && highlightedRef}\n        role='option'\n        {...(selected && { 'aria-selected': selected })}\n        {...props}\n        {...itemProps}\n      >\n        <SelectOptionLabel label={option?.label || value} created={!!created} />\n      </chakra.li>\n    )\n  }\n)\n\nexport const EmptySelectResults = memo<{ label?: string }>(\n  ({ label = 'No results found' }) => {\n    const styles = useStyles()\n    return (\n      <chakra.li __css={styles.item}>\n        <SelectOptionLabel label={label} />\n      </chakra.li>\n    )\n  }\n)\n\nexport const SelectList = memo(() => {\n  const {\n    __css,\n    visibleOptions,\n    isOpen,\n    getOption,\n    ref: listRef,\n    ...listProps\n  } = useSelectList()\n\n  const dropdownVisible = isOpen\n  const optionItemProps = useCallback((option, index) => {\n    const optionItem = getOption(option) as any\n    return {\n      key: optionItem.id || idFromOption(optionItem, 'option-'),\n      value: optionItem.value,\n      label: optionItem.label || labelFromValue(optionItem.value),\n      selected: optionItem.selected,\n      created: optionItem.created,\n      index,\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <chakra.ul\n      ref={listRef}\n      __css={useMemo(\n        () => ({\n          listStyle: 'none',\n          position: 'absolute',\n          ...(!dropdownVisible && { display: 'none' }),\n          ...__css,\n        }),\n        [dropdownVisible, __css]\n      )}\n      aria-orientation='vertical'\n      role='listbox'\n      {...listProps}\n    >\n      {dropdownVisible && visibleOptions.length > 0 ? (\n        visibleOptions.map((item: any, index: number) => {\n          const { key: itemKey, ...restItemProps } = optionItemProps(\n            item,\n            index\n          )\n          return <SelectOptionItem key={itemKey} {...restItemProps} />\n        })\n      ) : (\n        <EmptySelectResults />\n      )}\n    </chakra.ul>\n  )\n})\n\nexport const SelectOptionGroup: React.FC<SelectOptionGroupProps> = (props) => {\n  return <MenuOptionGroup {...props} />\n}\n\nconst SelectToggleIcon: React.FC<\n  HTMLChakraProps<'svg'> & { isActive?: boolean }\n> = ({ isActive, width = 4, height = 4, __css, ...props }) => (\n  <ChakraSvg\n    viewBox='0 0 24 24'\n    stroke='currentColor'\n    fill='none'\n    width={width}\n    height={height}\n    __css={{\n      ...__css,\n      ...(isActive && ((__css as any)?._active as any)),\n    }}\n    {...props}\n  >\n    <path\n      strokeLinecap='round'\n      strokeLinejoin='round'\n      strokeWidth='2'\n      d='M19 9l-7 7-7-7'\n    />\n  </ChakraSvg>\n)\n\nconst SelectClearIcon: React.FC<\n  HTMLChakraProps<'svg'> & { isActive?: boolean }\n> = ({ width = 4, height = 4, ...props }) => (\n  <ChakraSvg\n    viewBox='0 0 24 24'\n    stroke='currentColor'\n    fill='none'\n    width={width}\n    height={height}\n    {...props}\n  >\n    <path\n      strokeLinecap='round'\n      strokeLinejoin='round'\n      strokeWidth='2'\n      d='M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z'\n    />\n  </ChakraSvg>\n)\n\nexport const SelectInput = memo((props) => {\n  const inputProps = useSelectInput(props)\n\n  return <chakra.input {...inputProps} />\n})\nSelectInput.displayName = 'SelectInput'\n\nexport const SelectedItem = memo<SelectedItemProps>(({ value, ...props }) => {\n  const { onClick, __css, ...itemProps } = useSelectedItem({\n    value,\n    ...props,\n  })\n\n  return (\n    <Tag {...(__css as any)} {...itemProps}>\n      <TagLabel>{value}</TagLabel>\n      <TagCloseButton onClick={onClick} />\n    </Tag>\n  )\n})\nSelectedItem.displayName = 'SelectedItem'\n\nexport const SelectToggleButton = memo<ButtonProps>((props) => {\n  const {\n    __css,\n    size = 'sm',\n    ariaLabel = 'toggle menu',\n    Icon = SelectToggleIcon,\n    isOpen,\n    ...buttonProps\n  } = useSelectButton(props)\n\n  return (\n    <IconButton\n      tabIndex={0}\n      size={size}\n      aria-label={ariaLabel}\n      aria-haspopup={true}\n      aria-expanded={isOpen}\n      icon={\n        <Icon\n          isActive={isOpen}\n          __css={{\n            transitionDuration: '200ms',\n            transitionProperty: 'transform',\n            _active: { transform: 'rotate(180deg)' },\n          }}\n        />\n      }\n      {...__css}\n      {...buttonProps}\n    />\n  )\n})\nSelectToggleButton.displayName = 'SelectToggleButton'\n\nexport const SelectClearButton = memo<ButtonProps>((props) => {\n  const {\n    __css,\n    size = 'sm',\n    ariaLabel = 'clear all selected',\n    Icon = SelectClearIcon,\n    ...buttonProps\n  } = useClearButton(props)\n\n  return (\n    <IconButton\n      tabIndex={0}\n      size={size}\n      aria-label={ariaLabel}\n      icon={<Icon />}\n      {...__css}\n      {...buttonProps}\n    />\n  )\n})\nSelectClearButton.displayName = 'SelectClearButton'\n\nexport const SelectedList = memo(({ children, ...props }) => {\n  const {\n    __css,\n    textList,\n    selectedItems,\n    multi,\n    selectionVisibleIn,\n    ...selectedListProps\n  } = useSelectedList(props)\n\n  return (\n    <Box {...__css} {...selectedListProps}>\n      {multi && // Both || Input\n        selectionVisibleIn !== SelectionVisibilityMode.List &&\n        selectedItems?.map((selectedItem: any) => (\n          <SelectedItem\n            key={`selected-item-${selectedItem}`}\n            value={selectedItem}\n          />\n        ))}\n      {multi && // List only\n        selectionVisibleIn === SelectionVisibilityMode.List &&\n        !!selectedItems?.length && (\n          <Box {...textList?.__css}>{selectedItems?.join(', ')}</Box>\n        )}\n      {children}\n    </Box>\n  )\n})\nSelectedList.displayName = 'SelectedList'\n\nexport const SelectActionGroup = memo((props) => {\n  const { __css, clearable, clearOnClick, ...toggleActionProps } =\n    useSelectActionGroup(props)\n\n  return (\n    <HStack {...__css} {...toggleActionProps}>\n      {clearable && <SelectClearButton onClick={clearOnClick} />}\n      <SelectToggleButton />\n    </HStack>\n  )\n})\nSelectActionGroup.displayName = 'SelectActionGroup'\n\nexport const SelectControl = forwardRef<SelectControlProps, 'div'>(\n  ({ children }, ref) => {\n    const { ref: controlRef, __css } = useSelectControl({ ref })\n\n    return (\n      <Input ref={controlRef} as={HStack} {...__css}>\n        {children}\n      </Input>\n    )\n  }\n)\n\nexport const MultiSelect: React.FC<MultiSelectProps> = ({\n  label,\n  ...props\n}) => {\n  return (\n    <Select {...props}>\n      {label && <SelectLabel>{label}</SelectLabel>}\n      <SelectControl>\n        <SelectedList>\n          <SelectInput />\n        </SelectedList>\n        <SelectActionGroup />\n      </SelectControl>\n      <SelectList />\n    </Select>\n  )\n}\n","import {\n  ChakraProvider,\n  ColorModeScript,\n  useColorMode,\n  useColorModeValue,\n  extendTheme,\n  Button,\n  Flex,\n  VStack,\n} from '@chakra-ui/react'\nimport {\n  MultiSelect,\n  MultiSelectProps,\n  MultiSelectTheme,\n  SelectionVisibilityMode,\n  useMultiSelect,\n} from 'chakra-multiselect'\nimport { FC } from 'react'\n\nconst theme = extendTheme({\n  components: {\n    MultiSelect: {\n      ...MultiSelectTheme,\n      baseStyle: (props: any) => {\n        const baseStyle = MultiSelectTheme.baseStyle(props) as any\n        return {\n          ...baseStyle,\n        }\n      },\n    },\n  },\n})\n\nconst ColorModeToggleBar = () => {\n  const { toggleColorMode } = useColorMode()\n  const nextMode = useColorModeValue('dark', 'light')\n\n  return (\n    <Flex justify='flex-end' mb={4}>\n      <Button\n        size='md'\n        variant='ghost'\n        color='current'\n        marginLeft='2'\n        onClick={toggleColorMode}\n      >{`Switch to ${nextMode} mode`}</Button>\n    </Flex>\n  )\n}\n\nconst items = [\n  'Neptunium',\n  'Plutonium',\n  'Americium',\n  'Curium',\n  'Berkelium',\n  'Californium',\n  'Einsteinium',\n  'Fermium',\n  'Mendelevium',\n  'Nobelium',\n  'Lawrencium',\n  'Rutherfordium',\n  'Dubnium',\n  'Seaborgium',\n  'Bohrium',\n  'Hassium',\n  'Meitnerium',\n  'Darmstadtium',\n  'Roentgenium',\n  'Copernicium',\n  'Nihonium',\n  'Flerovium',\n  'Moscovium',\n  'Livermorium',\n  'Tennessine',\n  'Oganesson',\n]\n\nconst _options = items.map((label) => ({ label, value: label.toLowerCase() }))\n\nconst StatefulMultiSelect: FC<\n  Omit<MultiSelectProps, 'onChange' | 'value'> &\n    Partial<Pick<MultiSelectProps, 'onChange' | 'value'>>\n> = ({ onChange: _onChange, value: _value, options: __options, ...props }) => {\n  const { value, options, onChange } = useMultiSelect({\n    value: _value || props.single ? '' : [],\n    options: __options!,\n    onChange: _onChange,\n  })\n\n  return (\n    <MultiSelect\n      value={value}\n      options={options}\n      onChange={onChange!}\n      {...props}\n    />\n  )\n}\n\nconst App = () => {\n  return (\n    <>\n      <ColorModeScript initialColorMode='light' />\n      <ChakraProvider theme={theme}>\n        <VStack minH='100vh' w='full'>\n          <ColorModeToggleBar />\n          <VStack\n            spacing='12'\n            w='full'\n            flex='1'\n            justifyContent='center'\n            alignItems='center'\n          >\n            <StatefulMultiSelect\n              options={_options}\n              label='Choose a single item'\n              single\n            />\n            <StatefulMultiSelect\n              options={_options}\n              label='Choose multiple items'\n            />\n            <StatefulMultiSelect\n              options={_options}\n              label='Choose or create a single item'\n              single\n              create\n            />\n            <StatefulMultiSelect\n              options={_options}\n              label='Choose or create multiple items'\n              create\n            />\n            <StatefulMultiSelect\n              options={_options}\n              label='Choose a single item with list selection'\n              selectionVisibleIn={SelectionVisibilityMode.List}\n              single\n            />\n            <StatefulMultiSelect\n              options={_options}\n              label='Choose multiple items with list selection'\n              selectionVisibleIn={SelectionVisibilityMode.List}\n            />\n            <StatefulMultiSelect\n              options={_options}\n              label='Choose multiple items with both selection'\n              selectionVisibleIn={SelectionVisibilityMode.Both}\n            />\n          </VStack>\n        </VStack>\n      </ChakraProvider>\n    </>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}